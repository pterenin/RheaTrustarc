(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"/72/":function(n,t,e){"use strict";var l=e("CcnG"),s=e("132j"),o=e("sU9O"),i=e("KKxe"),u=e("gIcY"),a=e("1pUY"),r=e("bbFK"),c=e("biaL"),d=e("tr7A"),p=e("1ut8"),g=e("Ip0R"),h=e("M4jF"),m=e("kQEY");e.d(t,"a",(function(){return w}));var f=l["\u0275crt"]({encapsulation:0,styles:[[".card[_ngcontent-%COMP%]{box-shadow:0 1px 4px 0 rgba(0,0,0,.15)}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{font-size:.875rem}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{outline:0!important;box-shadow:none!important}strong[_ngcontent-%COMP%]{font-weight:500}input[_ngcontent-%COMP%]::-ms-clear{display:none;width:0;height:0}input[_ngcontent-%COMP%]::-ms-reveal{display:none;width:0;height:0}input[_ngcontent-%COMP%]::-webkit-search-cancel-button, input[_ngcontent-%COMP%]::-webkit-search-decoration, input[_ngcontent-%COMP%]::-webkit-search-results-button, input[_ngcontent-%COMP%]::-webkit-search-results-decoration{display:none}.bp-tags-empty[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:12px;line-height:16px;color:#777}.bp-tags-container[_ngcontent-%COMP%], .bp-tags-empty[_ngcontent-%COMP%]{min-height:300px}"]],data:{}});function b(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"ngx-skeleton-loader",[["appearance","line"],["count","1"]],null,null,null,s.b,s.a)),l["\u0275did"](2,114688,null,0,o.a,[],{count:[0,"count"],appearance:[1,"appearance"]},null)],(function(n,t){n(t,2,0,"1","line")}),null)}function v(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","bp-tags-empty d-flex justify-content-center"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["No tags available for this record."]))],null,null)}function C(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,4,"ta-tags-selector",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selectedTagsChange"],[null,"submit"],[null,"reset"]],(function(n,t,e){var s=!0,o=n.component;return"submit"===t&&(s=!1!==l["\u0275nov"](n,1).onSubmit(e)&&s),"reset"===t&&(s=!1!==l["\u0275nov"](n,1).onReset()&&s),"selectedTagsChange"===t&&(s=!1!==o.selectedTagsChange(e)&&s),s}),i.b,i.a)),l["\u0275did"](1,540672,null,0,u.k,[[8,null],[8,null]],{form:[0,"form"]},null),l["\u0275prd"](2048,null,u.b,null,[u.k]),l["\u0275did"](3,16384,null,0,u.r,[[4,u.b]],null,null),l["\u0275did"](4,245760,[[1,4]],0,a.a,[u.b,u.f,r.a,c.a],{thereAreTagsBP:[0,"thereAreTagsBP"],baseDomainId:[1,"baseDomainId"],baseDomainType:[2,"baseDomainType"],preselectedTags:[3,"preselectedTags"],lastElementPlacementTop:[4,"lastElementPlacementTop"],allTags:[5,"allTags"]},{selectedTagsChange:"selectedTagsChange"})],(function(n,t){var e=t.component;n(t,1,0,e.tagFormsGroup),n(t,4,0,e.thereAreTagsBP,e.businessProcessId,e.baseDomainTypeEnum.BusinessProcess,e.selectedTags,!0,e.allTags)}),(function(n,t){n(t,0,0,l["\u0275nov"](t,3).ngClassUntouched,l["\u0275nov"](t,3).ngClassTouched,l["\u0275nov"](t,3).ngClassPristine,l["\u0275nov"](t,3).ngClassDirty,l["\u0275nov"](t,3).ngClassValid,l["\u0275nov"](t,3).ngClassInvalid,l["\u0275nov"](t,3).ngClassPending)}))}function y(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,"span",[["aria-hidden","true"],["class","spinner-border spinner-border-sm ml-auto text-secondary"],["role","status"]],null,null,null,null,null))],null,null)}function P(n){return l["\u0275vid"](0,[l["\u0275qud"](671088640,1,{tagsSelector:0}),(n()(),l["\u0275eld"](1,0,null,null,7,"div",[["class","modal-header"],["data-cy","bp-tags-modal"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,4,"h4",[["class","modal-title"],["data-cy","modal-title"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" Tags "])),(n()(),l["\u0275eld"](4,0,null,null,2,"ta-badge",[["class","badge-custom-nav-items align-top mt-1"]],[[8,"className",0]],null,null,d.jb,d.z)),l["\u0275did"](5,573440,null,0,p.dc,[p.ec],{values:[0,"values"],class:[1,"class"]},null),l["\u0275pid"](131072,g.AsyncPipe,[l.ChangeDetectorRef]),(n()(),l["\u0275eld"](7,0,null,null,1,"button",[["aria-label","Close"],["class","close"],["data-cy","modal-close"],["type","button"]],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.dismissModal()&&l),l}),null,null)),(n()(),l["\u0275eld"](8,0,null,null,0,"i",[["class","ta ta-close"]],null,null,null,null,null)),(n()(),l["\u0275eld"](9,0,null,null,7,"div",[["class","modal-body modal-scroll"]],null,null,null,null,null)),(n()(),l["\u0275eld"](10,0,null,null,6,"div",[["class","form-group bp-tags-container"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,b)),l["\u0275did"](12,16384,null,0,g.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,v)),l["\u0275did"](14,16384,null,0,g.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,C)),l["\u0275did"](16,16384,null,0,g.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](17,0,null,null,8,"div",[["class","modal-footer align-items-start justify-content-start"]],null,null,null,null,null)),(n()(),l["\u0275eld"](18,0,null,null,2,"button",[["class","mr-auto"],["data-dismiss","modal"],["id","modal-cancel"],["taButton",""],["taType","flat"],["type","button"]],[[8,"className",0]],[[null,"click"],[null,"focus"],[null,"mouseleave"]],(function(n,t,e){var s=!0,o=n.component;return"focus"===t&&(s=!1!==l["\u0275nov"](n,19).onMouseEnter()&&s),"mouseleave"===t&&(s=!1!==l["\u0275nov"](n,19).onMouseLeave()&&s),"click"===t&&(s=!1!==o.dismissModal()&&s),s}),d.U,d.k)),l["\u0275did"](19,573440,null,0,p.Eb,[l.ElementRef],{taType:[0,"taType"]},null),(n()(),l["\u0275ted"](-1,0,[" Cancel "])),(n()(),l["\u0275eld"](21,0,null,null,4,"button",[["id","modal-submit"],["taButton",""],["taType","primary"],["type","button"]],[[8,"disabled",0],[8,"className",0]],[[null,"click"],[null,"focus"],[null,"mouseleave"]],(function(n,t,e){var s=!0,o=n.component;return"focus"===t&&(s=!1!==l["\u0275nov"](n,22).onMouseEnter()&&s),"mouseleave"===t&&(s=!1!==l["\u0275nov"](n,22).onMouseLeave()&&s),"click"===t&&(s=!1!==o.saveTags()&&s),s}),d.U,d.k)),l["\u0275did"](22,573440,null,0,p.Eb,[l.ElementRef],{taType:[0,"taType"]},null),(n()(),l["\u0275ted"](-1,0,[" Save "])),(n()(),l["\u0275and"](16777216,null,0,1,null,y)),l["\u0275did"](25,16384,null,0,g.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,t){var e=t.component;n(t,5,0,l["\u0275unv"](t,5,0,l["\u0275nov"](t,6).transform(e.tagsCount$)),"badge-custom-nav-items align-top mt-1"),n(t,12,0,e.isFetching),n(t,14,0,!e.thereAreTagsBP&&!e.isFetching),n(t,16,0,e.thereAreTagsBP),n(t,19,0,"flat"),n(t,22,0,"primary"),n(t,25,0,e.isShowingSpinner)}),(function(n,t){var e=t.component;n(t,4,0,l["\u0275nov"](t,5).className),n(t,18,0,l["\u0275nov"](t,19).className),n(t,21,0,0===e.selectedTags.length,l["\u0275nov"](t,22).className)}))}function T(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ta-business-process-tags",[],null,null,null,P,f)),l["\u0275did"](1,245760,null,0,h.a,[p.e,u.f,m.a],null,null)],(function(n,t){n(t,1,0)}),null)}var w=l["\u0275ccf"]("ta-business-process-tags",h.a,T,{businessProcessId:"businessProcessId"},{},[])},"132j":function(n,t,e){"use strict";e.d(t,"a",(function(){return o})),e.d(t,"b",(function(){return u}));var l=e("CcnG"),s=(e("sU9O"),e("Ip0R")),o=l["\u0275crt"]({encapsulation:0,styles:[".loader[_ngcontent-%COMP%]{box-sizing:border-box;overflow:hidden;position:relative;-webkit-animation:2s ease-in-out infinite progress;animation:2s ease-in-out infinite progress;background:0 0/200px 100% no-repeat #eff1f6;background-image:-webkit-gradient(linear,left top,right top,from(rgba(255,255,255,0)),color-stop(rgba(255,255,255,.6)),to(rgba(255,255,255,0)));background-image:linear-gradient(90deg,rgba(255,255,255,0),rgba(255,255,255,.6),rgba(255,255,255,0));border-radius:4px;width:100%;height:20px;display:inline-block;margin-bottom:10px}.loader[_ngcontent-%COMP%]:after, .loader[_ngcontent-%COMP%]:before{box-sizing:border-box}.loader.circle[_ngcontent-%COMP%]{width:40px;height:40px;margin:5px;border-radius:50%}@-webkit-keyframes progress{0%{background-position:-200px 0}100%{background-position:calc(200px + 100%) 0}}@keyframes progress{0%{background-position:-200px 0}100%{background-position:calc(200px + 100%) 0}}"],data:{}});function i(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,3,"span",[["class","loader"]],null,null,null,null,null)),l["\u0275did"](1,278528,null,0,s.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](2,{circle:0}),l["\u0275did"](3,278528,null,0,s.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null)],(function(n,t){var e=t.component,l=n(t,2,0,"circle"===e.appearance);n(t,1,0,"loader",l),n(t,3,0,e.styles)}),null)}function u(n){return l["\u0275vid"](0,[(n()(),l["\u0275and"](16777216,null,null,1,null,i)),l["\u0275did"](1,278528,null,0,s.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(n,t){n(t,1,0,t.component.items)}),null)}},"5L+J":function(n,t,e){"use strict";e.d(t,"a",(function(){return a}));var l=e("mrSG"),s=e("gIcY"),o=(e("q05c"),e("ElT0"),e("fTqk")),i=e("XvOt"),u=e("xMyE"),a=function(){function n(n,t,e,l){this.activeModal=n,this.formBuilder=t,this.baseRecordFileUploadService=e,this.businessProcessControllerService=l,this.isDeletingFile=!1}return n.prototype.ngOnInit=function(){var n=this;this.baseRecordFileUploadService.setSaveOnEveryChange(!0),this.notes=new s.g("",s.v.maxLength(1024)),this.attachmentsFormsGroup=this.formBuilder.group({placeholder:""}),this.notesAndAttachmentsFormsGroup=this.formBuilder.group({notes:this.notes,fileFormsGroup:this.attachmentsFormsGroup}),i.a.unSubscribe(this._attachmentCounts$),this._attachmentCounts$=this.baseRecordFileUploadService.countOfUploadedFiles.asObservable().subscribe((function(t){n.attachmentsCount=t})),this.businessProcessId&&(this.loadBusinessProcessNotes(),i.a.unSubscribe(this._attachmentUpdate$),this._attachmentUpdate$=this.baseRecordFileUploadService.update(this.businessProcessId).subscribe()),i.a.unSubscribe(this._isDeletingFile$),this._isDeletingFile$=this.baseRecordFileUploadService.isDeletingFile.asObservable().subscribe((function(t){n.isDeletingFile=t}))},Object.defineProperty(n.prototype,"isValid",{get:function(){return!!this.notesAndAttachmentsFormsGroup&&this.notesAndAttachmentsFormsGroup.valid},enumerable:!0,configurable:!0}),n.prototype.loadBusinessProcessNotes=function(){var n=this;i.a.unSubscribe(this._loadNotes$),this._loadNotes$=this.businessProcessControllerService.getBusinessProcessNotes(this.businessProcessId).subscribe((function(t){n.note=t,n.notes.patchValue(n.note.notes)}))},n.prototype.saveNotes=function(){var n=this;this.note.notes=this.notes.value,i.a.unSubscribe(this._saveNotes$),this._saveNotes$=this.businessProcessControllerService.updateBusinessProcessNotes(this.note,this.businessProcessId).pipe(Object(u.a)((function(t){var e={id:n.businessProcessId,version:t.version};i.a.unSubscribe(n._saveUploadFilesComments$),n._saveUploadFilesComments$=n.baseRecordFileUploadService.save(e).subscribe((function(){n.closeModal()}))}))).subscribe((function(n){}))},n.prototype.onSubmit=function(){this.isValid&&this.saveNotes()},n.prototype.closeModal=function(){this.activeModal.close(this.attachmentsCount)},n.prototype.onCancel=function(){this.activeModal.dismiss()},n.prototype.dismissModal=function(){this.activeModal.dismiss()},n.prototype.ngOnDestroy=function(){},Object(l.b)([Object(o.a)(["_attachmentUpdate$","_saveNotes$","_loadNotes$","_attachmentCounts$","_saveUploadFilesComments$","_isDeletingFile"])],n)}()},Axip:function(n,t,e){"use strict";var l=e("CcnG"),s=new l.InjectionToken("WindowToken","undefined"!=typeof window&&window.document?{providedIn:"root",factory:function(){return window}}:void 0),o=e("K9Ia"),i=e("Ip0R");e.d(t,"b",(function(){return u})),e.d(t,"a",(function(){return a}));var u=function(){function n(n,t){this.document=n,this.window=t,this.copySubject=new o.a,this.copyResponse$=this.copySubject.asObservable(),this.config={}}return n.prototype.configure=function(n){this.config=n},n.prototype.copy=function(n){if(!this.isSupported||!n)return this.pushCopyResponse({isSuccess:!1,content:n});var t=this.copyFromContent(n);return this.pushCopyResponse(t?{content:n,isSuccess:t}:{isSuccess:!1,content:n})},Object.defineProperty(n.prototype,"isSupported",{get:function(){return!!this.document.queryCommandSupported&&!!this.document.queryCommandSupported("copy")&&!!this.window},enumerable:!0,configurable:!0}),n.prototype.isTargetValid=function(n){if(n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement){if(n.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');return!0}throw new Error("Target should be input or textarea")},n.prototype.copyFromInputElement=function(n,t){void 0===t&&(t=!0);try{this.selectTarget(n);var e=this.copyText();return this.clearSelection(t?n:void 0,this.window),e&&this.isCopySuccessInIE11()}catch(l){return!1}},n.prototype.isCopySuccessInIE11=function(){var n=this.window.clipboardData;return!(n&&n.getData&&!n.getData("Text"))},n.prototype.copyFromContent=function(n,t){if(void 0===t&&(t=this.document.body),this.tempTextArea&&!t.contains(this.tempTextArea)&&this.destroy(this.tempTextArea.parentElement),!this.tempTextArea){this.tempTextArea=this.createTempTextArea(this.document,this.window);try{t.appendChild(this.tempTextArea)}catch(l){throw new Error("Container should be a Dom element")}}this.tempTextArea.value=n;var e=this.copyFromInputElement(this.tempTextArea,!1);return this.config.cleanUpAfterCopy&&this.destroy(this.tempTextArea.parentElement),e},n.prototype.destroy=function(n){void 0===n&&(n=this.document.body),this.tempTextArea&&(n.removeChild(this.tempTextArea),this.tempTextArea=void 0)},n.prototype.selectTarget=function(n){return n.select(),n.setSelectionRange(0,n.value.length),n.value.length},n.prototype.copyText=function(){return this.document.execCommand("copy")},n.prototype.clearSelection=function(n,t){n&&n.focus(),t.getSelection().removeAllRanges()},n.prototype.createTempTextArea=function(n,t){var e,l="rtl"===n.documentElement.getAttribute("dir");return(e=n.createElement("textarea")).style.fontSize="12pt",e.style.border="0",e.style.padding="0",e.style.margin="0",e.style.position="absolute",e.style[l?"right":"left"]="-9999px",e.style.top=(t.pageYOffset||n.documentElement.scrollTop)+"px",e.setAttribute("readonly",""),e},n.prototype.pushCopyResponse=function(n){this.copySubject.next(n)},n.prototype.pushCopyReponse=function(n){this.pushCopyResponse(n)},n.ngInjectableDef=Object(l.defineInjectable)({factory:function(){return new n(Object(l.inject)(i.DOCUMENT),Object(l.inject)(s,8))},token:n,providedIn:"root"}),n}(),a=function(){return function(){}}()},M4jF:function(n,t,e){"use strict";e.d(t,"a",(function(){return a}));var l=e("FPqJ"),s=(e("kQEY"),e("26FU")),o=e("K9Ia"),i=e("ny24"),u=(e("1pUY"),e("XvOt")),a=function(){function n(n,t,e){this.activeModal=n,this.formBuilder=t,this.baseRecordsService=e,this.selectedTags=[],this.baseDomainTypeEnum=l.a,this.tagsCount=new s.a(0),this.tagsCount$=this.tagsCount.asObservable(),this.allTags=[],this.destruction$=new o.a}return n.prototype.ngOnInit=function(){this.isShowingSpinner=!1,this.thereAreTagsBP=!1,this.isFetching=!0,this.tagFormsGroup=this.formBuilder.group({placeholder:""}),this.validateAllTagsForBP(),this.tagsCount.next(0)},n.prototype.ngOnDestroy=function(){this.destruction$.next(),this.destruction$.complete()},n.prototype.selectedTagsChange=function(n){this.selectedTags=n,this.tagsCount.next(this.getTagsCount(this.selectedTags)),this.tagFormsGroup.markAsDirty()},n.prototype.saveTags=function(){var n=this,t=this.tagsSelector.extractTagsFromFormControls();this.isShowingSpinner=!0,this.baseRecordsService.putTags(this.businessProcessId,t).pipe(Object(i.a)(this.destruction$)).subscribe((function(e){n.closeModal(n.getTagsCount(t)),n.isShowingSpinner=!1}),(function(t){console.error(t),n.isShowingSpinner=!1}))},n.prototype.closeModal=function(n){this.activeModal.close(n=0===n?this.selectedTags.length:n)},n.prototype.onCancel=function(){this.activeModal.dismiss()},n.prototype.dismissModal=function(){this.activeModal.dismiss()},n.prototype.validateAllTagsForBP=function(){var n=this;u.a.unSubscribe(this._getAllTags$),this._getAllTags$=this.baseRecordsService.getAllTags(l.a.BusinessProcess,!0).pipe(Object(i.a)(this.destruction$)).subscribe((function(t){t.length>0&&(n.isFetching=!1,n.thereAreTagsBP=!0,n.allTags=t)}),(function(t){console.error(t),n.isFetching=!1,n.isShowingSpinner=!1}))},n.prototype.getTagsCount=function(n){return n.length>0?n.reduce((function(n,t){return n+t.values.length}),0):0},n}()},MMEF:function(n,t,e){"use strict";var l=e("CcnG"),s=e("gIcY"),o=e("Ip0R"),i=e("YKkH"),u=e("WhUT"),a=e("1ut8"),r=e("q05c"),c=e("tr7A"),d=e("5L+J"),p=e("zmqE");e.d(t,"a",(function(){return b}));var g=l["\u0275crt"]({encapsulation:0,styles:[[".data-label[_ngcontent-%COMP%]{width:97px;height:16px;left:24px;top:266px;font-family:IBM Plex Sans;font-style:normal;font-weight:400;font-size:12px;line-height:16px;color:#000}"]],data:{}});function h(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","text-danger text-danger-multi-sibling"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" The notes must be less than 1024 characters. "]))],null,null)}function m(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,4,"div",[["class","modal-header"],["data-cy","bp-attachments-modal"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"h4",[["class","modal-title"],["data-cy","modal-title"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,[" Notes & Attachments "])),(n()(),l["\u0275eld"](3,0,null,null,1,"button",[["aria-label","Close"],["class","close"],["data-cy","modal-close"],["type","button"]],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.closeModal()&&l),l}),null,null)),(n()(),l["\u0275eld"](4,0,null,null,0,"i",[["class","ta ta-close"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,22,"div",[["class","modal-body modal-scroll"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,t,e){var s=!0;return"submit"===t&&(s=!1!==l["\u0275nov"](n,6).onSubmit(e)&&s),"reset"===t&&(s=!1!==l["\u0275nov"](n,6).onReset()&&s),s}),null,null)),l["\u0275did"](6,540672,null,0,s.k,[[8,null],[8,null]],{form:[0,"form"]},null),l["\u0275prd"](2048,null,s.b,null,[s.k]),l["\u0275did"](8,16384,null,0,s.r,[[4,s.b]],null,null),(n()(),l["\u0275eld"](9,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](10,0,null,null,1,"label",[["class","data-label"],["for","notes"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Notes"])),(n()(),l["\u0275eld"](12,0,null,null,5,"textarea",[["class","form-control"],["data-cy","notes"],["formControlName","notes"],["id","notes"],["name","notes"],["placeholder","Write your own notes here."],["rows","5"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,t,e){var s=!0;return"input"===t&&(s=!1!==l["\u0275nov"](n,13)._handleInput(e.target.value)&&s),"blur"===t&&(s=!1!==l["\u0275nov"](n,13).onTouched()&&s),"compositionstart"===t&&(s=!1!==l["\u0275nov"](n,13)._compositionStart()&&s),"compositionend"===t&&(s=!1!==l["\u0275nov"](n,13)._compositionEnd(e.target.value)&&s),s}),null,null)),l["\u0275did"](13,16384,null,0,s.c,[l.Renderer2,l.ElementRef,[2,s.a]],null,null),l["\u0275prd"](1024,null,s.o,(function(n){return[n]}),[s.c]),l["\u0275did"](15,671744,null,0,s.i,[[3,s.b],[8,null],[8,null],[6,s.o],[2,s.z]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,s.p,null,[s.i]),l["\u0275did"](17,16384,null,0,s.q,[[4,s.p]],null,null),(n()(),l["\u0275and"](16777216,null,null,1,null,h)),l["\u0275did"](19,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](20,0,null,null,7,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),l["\u0275eld"](21,0,null,null,1,"label",[["class","data-label"],["for","filesUpload"]],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["File Attachments"])),(n()(),l["\u0275eld"](23,0,null,null,4,"ta-base-record-file-upload",[["id","filesUpload"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,t,e){var s=!0;return"submit"===t&&(s=!1!==l["\u0275nov"](n,24).onSubmit(e)&&s),"reset"===t&&(s=!1!==l["\u0275nov"](n,24).onReset()&&s),s}),i.b,i.a)),l["\u0275did"](24,540672,null,0,s.k,[[8,null],[8,null]],{form:[0,"form"]},null),l["\u0275prd"](2048,null,s.b,null,[s.k]),l["\u0275did"](26,16384,null,0,s.r,[[4,s.b]],null,null),l["\u0275did"](27,114688,null,0,u.a,[s.b,s.f,a.Db,a.E,r.a],{isDeletingFile:[0,"isDeletingFile"]},null),(n()(),l["\u0275eld"](28,0,null,null,3,"div",[["class","modal-footer justify-content-right"]],null,null,null,null,null)),(n()(),l["\u0275eld"](29,0,null,null,2,"button",[["data-cy","modal-submit"],["taButton",""],["taType","primary"]],[[8,"disabled",0],[8,"className",0]],[[null,"click"],[null,"focus"],[null,"mouseleave"]],(function(n,t,e){var s=!0,o=n.component;return"focus"===t&&(s=!1!==l["\u0275nov"](n,30).onMouseEnter()&&s),"mouseleave"===t&&(s=!1!==l["\u0275nov"](n,30).onMouseLeave()&&s),"click"===t&&(s=!1!==o.onSubmit()&&s),s}),c.U,c.k)),l["\u0275did"](30,573440,null,0,a.Eb,[l.ElementRef],{taType:[0,"taType"]},null),(n()(),l["\u0275ted"](-1,0,[" Done "]))],(function(n,t){var e=t.component;n(t,6,0,e.notesAndAttachmentsFormsGroup),n(t,15,0,"notes"),n(t,19,0,null==e.notes.errors?null:e.notes.errors.maxlength),n(t,24,0,e.attachmentsFormsGroup),n(t,27,0,e.isDeletingFile),n(t,30,0,"primary")}),(function(n,t){var e=t.component;n(t,5,0,l["\u0275nov"](t,8).ngClassUntouched,l["\u0275nov"](t,8).ngClassTouched,l["\u0275nov"](t,8).ngClassPristine,l["\u0275nov"](t,8).ngClassDirty,l["\u0275nov"](t,8).ngClassValid,l["\u0275nov"](t,8).ngClassInvalid,l["\u0275nov"](t,8).ngClassPending),n(t,12,0,l["\u0275nov"](t,17).ngClassUntouched,l["\u0275nov"](t,17).ngClassTouched,l["\u0275nov"](t,17).ngClassPristine,l["\u0275nov"](t,17).ngClassDirty,l["\u0275nov"](t,17).ngClassValid,l["\u0275nov"](t,17).ngClassInvalid,l["\u0275nov"](t,17).ngClassPending),n(t,23,0,l["\u0275nov"](t,26).ngClassUntouched,l["\u0275nov"](t,26).ngClassTouched,l["\u0275nov"](t,26).ngClassPristine,l["\u0275nov"](t,26).ngClassDirty,l["\u0275nov"](t,26).ngClassValid,l["\u0275nov"](t,26).ngClassInvalid,l["\u0275nov"](t,26).ngClassPending),n(t,29,0,!e.isValid,l["\u0275nov"](t,30).className)}))}function f(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ta-notes-attachments",[],null,null,null,m,g)),l["\u0275did"](1,245760,null,0,d.a,[a.e,s.f,r.a,p.a],null,null)],(function(n,t){n(t,1,0)}),null)}var b=l["\u0275ccf"]("ta-notes-attachments",d.a,f,{businessProcessId:"businessProcessId"},{},[])},NQgJ:function(n,t,e){"use strict";var l=e("CcnG"),s=e("tr7A"),o=e("1ut8"),i=e("Ip0R"),u=e("gIcY"),a=e("Cr54"),r=e("/KSa");e("tR8B"),e("PTJf"),e("ZYCi"),e("4B+E"),e("54QL"),e("zmqE"),e("kQEY"),e("Axip"),e.d(t,"a",(function(){return c})),e.d(t,"b",(function(){return b}));var c=l["\u0275crt"]({encapsulation:0,styles:[[".card[_ngcontent-%COMP%]{box-shadow:0 1px 4px 0 rgba(0,0,0,.15)}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{font-size:.875rem}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{outline:0!important;box-shadow:none!important}strong[_ngcontent-%COMP%]{font-weight:500}input[_ngcontent-%COMP%]::-ms-clear{display:none;width:0;height:0}input[_ngcontent-%COMP%]::-ms-reveal{display:none;width:0;height:0}input[_ngcontent-%COMP%]::-webkit-search-cancel-button, input[_ngcontent-%COMP%]::-webkit-search-decoration, input[_ngcontent-%COMP%]::-webkit-search-results-button, input[_ngcontent-%COMP%]::-webkit-search-results-decoration{display:none}[_nghost-%COMP%]  .ta-tooltip.ta-attachments-tags-tooltip{margin-top:7px!important}[_nghost-%COMP%]{border-bottom:1px solid #f1f1f1}[_nghost-%COMP%]   ta-step[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .w-auto[_ngcontent-%COMP%]{min-width:auto;max-width:auto}[_nghost-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{padding-top:8px}[_nghost-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#595959;margin-right:5px}[_nghost-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   ta-icon[_ngcontent-%COMP%]{position:relative;top:-1px;margin:0 0 0 4px}[_nghost-%COMP%]   .nav-segment[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{background-color:#f1f1f1}[_nghost-%COMP%]   .nav-segment[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:first-child{border-top-left-radius:50px;border-bottom-left-radius:50px}[_nghost-%COMP%]   .nav-segment[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:last-child{border-top-right-radius:50px;border-bottom-right-radius:50px}[_nghost-%COMP%]   .nav-segment[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.157rem 1.5rem;color:#000}[_nghost-%COMP%]   .nav-segment[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#064676!important;color:#fff!important;border-radius:50px}[_nghost-%COMP%]   .nav-segment[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.disabled[_ngcontent-%COMP%]{color:#c2c2c2}[_nghost-%COMP%]   .status-container[_ngcontent-%COMP%]{padding-left:20px}[_nghost-%COMP%]   .status-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:124px}[_nghost-%COMP%]   .status-container[_ngcontent-%COMP%]   ta-dropdown-field[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%]   .status-container[_ngcontent-%COMP%]   ta-dropdown-field[_ngcontent-%COMP%]   span.spinner-border[_ngcontent-%COMP%]{position:absolute;top:8px;left:77px;z-index:1;color:#004575!important}.badge-custom-nav-items[_ngcontent-%COMP%]{padding:2px 6px;font-size:12px;min-width:18px;min-height:13px;border-radius:100px}ta-badge.badge[_ngcontent-%COMP%]{z-index:100;margin-left:-4px;min-width:8px}"]],data:{}});function d(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"li",[["class","nav-item"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,1,"a",[["class","nav-link"]],[[2,"active",null]],[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onClickStep(n.context.$implicit.slug)&&l),l}),null,null)),(n()(),l["\u0275ted"](2,null,[" "," "]))],null,(function(n,t){n(t,1,0,t.context.$implicit.slug===t.component.currentRoute.slug),n(t,2,0,t.context.$implicit.name)}))}function p(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"ta-badge",[["class","badge-custom-nav-items align-top"],["type","error"]],[[8,"className",0]],null,null,s.jb,s.z)),l["\u0275did"](1,573440,null,0,o.dc,[o.ec],{type:[0,"type"],values:[1,"values"],class:[2,"class"]},null),l["\u0275pid"](131072,i.AsyncPipe,[l.ChangeDetectorRef])],(function(n,t){var e=t.component;n(t,1,0,"error",l["\u0275unv"](t,1,1,l["\u0275nov"](t,2).transform(e.attachmentsCount$)),"badge-custom-nav-items align-top")}),(function(n,t){n(t,0,0,l["\u0275nov"](t,1).className)}))}function g(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,2,"ta-badge",[["class","badge-custom-nav-items align-top"],["type","error"]],[[8,"className",0]],null,null,s.jb,s.z)),l["\u0275did"](1,573440,null,0,o.dc,[o.ec],{type:[0,"type"],values:[1,"values"],class:[2,"class"]},null),l["\u0275pid"](131072,i.AsyncPipe,[l.ChangeDetectorRef])],(function(n,t){var e=t.component;n(t,1,0,"error",l["\u0275unv"](t,1,1,l["\u0275nov"](t,2).transform(e.tagsCount$)),"badge-custom-nav-items align-top")}),(function(n,t){n(t,0,0,l["\u0275nov"](t,1).className)}))}function h(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,21,"div",[["class","w-25 text-right"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,16777216,null,null,4,"button",[["class","ta-button btn btn-circle ml-2"],["data-cy","bp-attachments-button"],["placement","bottom"],["taButton",""],["taTooltip","Notes & Attachments"],["taType","circle"],["tooltipClass","ta-attachments-tags-tooltip"],["tooltipTheme","light"],["type","button"]],[[8,"className",0]],[[null,"click"],[null,"focus"],[null,"mouseleave"]],(function(n,t,e){var s=!0,o=n.component;return"focus"===t&&(s=!1!==l["\u0275nov"](n,3).onMouseEnter()&&s),"mouseleave"===t&&(s=!1!==l["\u0275nov"](n,3).onMouseLeave()&&s),"click"===t&&(s=!1!==o.onCustomItemClick("attachments","true")&&s),s}),s.U,s.k)),l["\u0275did"](2,212992,null,0,o.wb,[l.ElementRef,l.Renderer2,l.Injector,l.ComponentFactoryResolver,l.ViewContainerRef,o.xb,l.NgZone,i.DOCUMENT],{placement:[0,"placement"],tooltipClass:[1,"tooltipClass"],tooltipTheme:[2,"tooltipTheme"],taTooltip:[3,"taTooltip"]},null),l["\u0275did"](3,573440,[[1,4],["attachmentButton",4]],0,o.Eb,[l.ElementRef],{taType:[0,"taType"]},null),(n()(),l["\u0275eld"](4,0,null,0,1,":svg:svg",[["fill","none"],["height","24"],["viewBox","0 0 24 24"],["width","24"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(n()(),l["\u0275eld"](5,0,null,null,0,":svg:path",[["clip-rule","evenodd"],["d","M18.1206 13.4621L11.5379 6.87938C10.2384 5.67428 8.21868 5.71233 6.9655 6.9655C5.71233 8.21868 5.67428 10.2384 6.87938 11.5379L8.39846 13.057L9.11244 12.343L7.59335 10.8239C6.98373 10.2559 6.73279 9.40039 6.93897 8.59304C7.14515 7.7857 7.77557 7.15528 8.58292 6.9491C9.39026 6.74292 10.2458 6.99386 10.8138 7.60348L17.3965 14.1862C18.0061 14.7542 18.2571 15.6097 18.0509 16.4171C17.8447 17.2244 17.2143 17.8548 16.407 18.061C15.5996 18.2672 14.7441 18.0163 14.1761 17.4067L11.0721 14.3027C10.75 13.9824 10.6233 13.5148 10.7396 13.0758C10.8559 12.6368 11.1976 12.2932 11.6359 12.1745C12.0742 12.0557 12.5426 12.1798 12.8646 12.5L14.4697 14.1052L15.1837 13.3912C15.1837 13.3912 13.5532 11.7556 13.538 11.7506C12.6409 10.922 11.2495 10.9503 10.3866 11.8145C9.52377 12.6787 9.49776 14.0701 10.3277 14.966L13.4621 18.1206C14.7616 19.3257 16.7813 19.2877 18.0345 18.0345C19.2877 16.7813 19.3257 14.7616 18.1206 13.4621Z"],["fill","#595959"],["fill-rule","evenodd"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,2,null,p)),l["\u0275did"](7,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275pid"](131072,i.AsyncPipe,[l.ChangeDetectorRef]),(n()(),l["\u0275eld"](9,16777216,null,null,4,"button",[["class","ta-button btn btn-circle ml-2"],["data-cy","bp-tags-button"],["placement","bottom"],["taButton",""],["taTooltip","Tags"],["taType","circle"],["tooltipClass","ta-attachments-tags-tooltip"],["tooltipTheme","light"],["type","button"]],[[8,"className",0]],[[null,"click"],[null,"focus"],[null,"mouseleave"]],(function(n,t,e){var s=!0,o=n.component;return"focus"===t&&(s=!1!==l["\u0275nov"](n,11).onMouseEnter()&&s),"mouseleave"===t&&(s=!1!==l["\u0275nov"](n,11).onMouseLeave()&&s),"click"===t&&(s=!1!==o.onCustomItemClick("tags","true")&&s),s}),s.U,s.k)),l["\u0275did"](10,212992,null,0,o.wb,[l.ElementRef,l.Renderer2,l.Injector,l.ComponentFactoryResolver,l.ViewContainerRef,o.xb,l.NgZone,i.DOCUMENT],{placement:[0,"placement"],tooltipClass:[1,"tooltipClass"],tooltipTheme:[2,"tooltipTheme"],taTooltip:[3,"taTooltip"]},null),l["\u0275did"](11,573440,[[2,4],["tagsButton",4]],0,o.Eb,[l.ElementRef],{taType:[0,"taType"]},null),(n()(),l["\u0275eld"](12,0,null,0,1,":svg:svg",[["fill","none"],["height","24"],["viewBox","0 0 24 24"],["width","24"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(n()(),l["\u0275eld"](13,0,null,null,0,":svg:path",[["clip-rule","evenodd"],["d","M13.26 19C12.8623 18.9997 12.481 18.8414 12.2 18.56L5.44 11.805C5.15862 11.524 5.00035 11.1427 5 10.745V6.5C5 5.67157 5.67157 5 6.5 5H10.745C11.1427 5.00035 11.524 5.15862 11.805 5.44L18.56 12.195C18.8424 12.4765 19.0012 12.8588 19.0012 13.2575C19.0012 13.6562 18.8424 14.0385 18.56 14.32L14.32 18.56C14.039 18.8414 13.6577 18.9997 13.26 19ZM8 10C8 11.1046 8.89543 12 10 12C11.1046 12 12 11.1046 12 10C12 8.89543 11.1046 8 10 8C8.89543 8 8 8.89543 8 10ZM9 10C9 9.44772 9.44772 9 10 9C10.5523 9 11 9.44772 11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10ZM6 6.5C6 6.22386 6.22386 6 6.5 6H10.745C10.8786 6.00055 11.0065 6.05457 11.1 6.15L17.855 12.905C18.0489 13.1 18.0489 13.415 17.855 13.61L13.61 17.855C13.415 18.0489 13.1 18.0489 12.905 17.855L6.15 11.1C6.05457 11.0065 6.00055 10.8786 6 10.745V6.5Z"],["fill","#595959"],["fill-rule","evenodd"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,2,null,g)),l["\u0275did"](15,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275pid"](131072,i.AsyncPipe,[l.ChangeDetectorRef]),(n()(),l["\u0275eld"](17,16777216,null,null,4,"button",[["class","ta-button btn btn-circle ml-1"],["data-cy","bp-tags-button"],["placement","bottom"],["taButton",""],["taTooltip","Copy Record Link"],["taType","circle"],["tooltipClass","ta-attachments-tags-tooltip"],["tooltipTheme","light"],["type","button"]],[[8,"className",0]],[[null,"click"],[null,"focus"],[null,"mouseleave"]],(function(n,t,e){var s=!0,o=n.component;return"focus"===t&&(s=!1!==l["\u0275nov"](n,19).onMouseEnter()&&s),"mouseleave"===t&&(s=!1!==l["\u0275nov"](n,19).onMouseLeave()&&s),"click"===t&&(s=!1!==o.copyBPIDtoClipboard()&&s),s}),s.U,s.k)),l["\u0275did"](18,212992,null,0,o.wb,[l.ElementRef,l.Renderer2,l.Injector,l.ComponentFactoryResolver,l.ViewContainerRef,o.xb,l.NgZone,i.DOCUMENT],{placement:[0,"placement"],tooltipClass:[1,"tooltipClass"],tooltipTheme:[2,"tooltipTheme"],taTooltip:[3,"taTooltip"]},null),l["\u0275did"](19,573440,null,0,o.Eb,[l.ElementRef],{taType:[0,"taType"]},null),(n()(),l["\u0275eld"](20,0,null,0,1,":svg:svg",[["fill","none"],["height","24"],["style","top:5px; left:5px"],["viewBox","0 0 24 24"],["width","24"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(n()(),l["\u0275eld"](21,0,null,null,0,":svg:path",[["clip-rule","evenodd"],["d","M10.5006 9.0057C9.74335 9.0095 9.02877 9.35669 8.55778 9.94962L4.90695 7.66722C5.04 7.23779 5.04 6.77815 4.90695 6.34873L8.55778 4.06633C9.32289 5.01372 10.6598 5.27108 11.7219 4.67545C12.7841 4.07981 13.2617 2.80489 12.8524 1.65799C12.443 0.511089 11.2661 -0.173299 10.0668 0.0381894C8.86758 0.249678 7.99576 1.29536 8.00342 2.5131C8.00577 2.73643 8.0394 2.95834 8.1033 3.17235L4.45247 5.45474C3.79184 4.62311 2.67746 4.30034 1.67464 4.65017C0.671815 5 0 5.94588 0 7.00797C0 8.07006 0.671815 9.01595 1.67464 9.36578C2.67746 9.71561 3.79184 9.39284 4.45247 8.5612L8.1033 10.8436C8.0394 11.0576 8.00577 11.2795 8.00342 11.5028C8.00342 12.882 9.12143 14 10.5006 14C11.8797 14 12.9977 12.882 12.9977 11.5028C12.9977 10.1237 11.8797 9.0057 10.5006 9.0057ZM10.5006 1.01481C11.3281 1.01481 11.9989 1.68562 11.9989 2.5131C11.9989 3.34058 11.3281 4.01139 10.5006 4.01139C9.67308 4.01139 9.00228 3.34058 9.00228 2.5131C9.00228 1.68562 9.67308 1.01481 10.5006 1.01481ZM2.50968 8.50627C1.6822 8.50627 1.01139 7.83546 1.01139 7.00797C1.01139 6.18049 1.6822 5.50968 2.50968 5.50968C3.33716 5.50968 4.00797 6.18049 4.00797 7.00797C4.00797 7.83546 3.33716 8.50627 2.50968 8.50627ZM10.5006 13.0011C9.67308 13.0011 9.00228 12.3303 9.00228 11.5028C9.00228 10.6754 9.67308 10.0046 10.5006 10.0046C11.3281 10.0046 11.9989 10.6754 11.9989 11.5028C11.9989 12.3303 11.3281 13.0011 10.5006 13.0011Z"],["fill","#595959"],["fill-rule","evenodd"]],null,null,null,null,null))],(function(n,t){var e=t.component;n(t,2,0,"bottom","ta-attachments-tags-tooltip","light","Notes & Attachments"),n(t,3,0,"circle"),n(t,7,0,l["\u0275unv"](t,7,0,l["\u0275nov"](t,8).transform(e.attachmentsCount$))),n(t,10,0,"bottom","ta-attachments-tags-tooltip","light","Tags"),n(t,11,0,"circle"),n(t,15,0,l["\u0275unv"](t,15,0,l["\u0275nov"](t,16).transform(e.tagsCount$))),n(t,18,0,"bottom","ta-attachments-tags-tooltip","light","Copy Record Link"),n(t,19,0,"circle")}),(function(n,t){n(t,1,0,l["\u0275nov"](t,3).className),n(t,9,0,l["\u0275nov"](t,11).className),n(t,17,0,l["\u0275nov"](t,19).className)}))}function m(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,0,"span",[["aria-hidden","true"],["class","spinner-border spinner-border-sm ml-auto text-secondary"],["role","status"]],null,null,null,null,null))],null,null)}function f(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,20,"div",[["class","d-flex justify-content-end"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,3,"div",[["class","w-75"]],null,null,null,null,null)),(n()(),l["\u0275eld"](2,0,null,null,2,"ul",[["class","nav nav-segment justify-content-start"],["data-cy","bp-wizard-navigation"],["role","tablist"]],null,null,null,null,null)),(n()(),l["\u0275and"](16777216,null,null,1,null,d)),l["\u0275did"](4,278528,null,0,i.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),l["\u0275and"](16777216,null,null,1,null,h)),l["\u0275did"](6,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),l["\u0275eld"](7,0,null,null,13,"div",[["class","position-relative d-flex justify-content-start status-container"],["style","width: 160px;"]],null,null,null,null,null)),(n()(),l["\u0275eld"](8,0,null,null,12,"form",[["class","position-absolute"],["novalidate",""],["style","top: -5px"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,t,e){var s=!0;return"submit"===t&&(s=!1!==l["\u0275nov"](n,10).onSubmit(e)&&s),"reset"===t&&(s=!1!==l["\u0275nov"](n,10).onReset()&&s),s}),null,null)),l["\u0275did"](9,16384,null,0,u.x,[],null,null),l["\u0275did"](10,540672,null,0,u.k,[[8,null],[8,null]],{form:[0,"form"]},null),l["\u0275prd"](2048,null,u.b,null,[u.k]),l["\u0275did"](12,16384,null,0,u.r,[[4,u.b]],null,null),(n()(),l["\u0275eld"](13,0,null,null,7,"ta-dropdown-field",[["data-cy","bp-owner-company"],["formControlName","status"],["optionLabel","name"]],[[2,"multiple-value-dropdown",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"selectedItemChanged"]],(function(n,t,e){var l=!0;return"selectedItemChanged"===t&&(l=!1!==n.component.bpStatusChange()&&l),l}),a.b,a.a)),l["\u0275did"](14,49152,null,0,r.a,[],{optionLabel:[0,"optionLabel"],useInfiniteScroll:[1,"useInfiniteScroll"],isDisabled:[2,"isDisabled"],options:[3,"options"],selectedOption:[4,"selectedOption"]},{selectedItemChanged:"selectedItemChanged"}),l["\u0275prd"](1024,null,u.o,(function(n){return[n]}),[r.a]),l["\u0275did"](16,671744,null,0,u.i,[[3,u.b],[8,null],[8,null],[6,u.o],[2,u.z]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,u.p,null,[u.i]),l["\u0275did"](18,16384,null,0,u.q,[[4,u.p]],null,null),(n()(),l["\u0275and"](16777216,null,0,1,null,m)),l["\u0275did"](20,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,t){var e=t.component;n(t,4,0,e.businessProcessNavigation),n(t,6,0,e.licenses&&!0===e.licenses.RHEA_NEW_UI_STEPS_12_LICENSE),n(t,10,0,e.statusForm),n(t,14,0,"name",!0,e.isShowingSpinner,e.bpStatuses,e.statusForm.get("status").value),n(t,16,0,"status"),n(t,20,0,e.isShowingSpinner)}),(function(n,t){n(t,8,0,l["\u0275nov"](t,12).ngClassUntouched,l["\u0275nov"](t,12).ngClassTouched,l["\u0275nov"](t,12).ngClassPristine,l["\u0275nov"](t,12).ngClassDirty,l["\u0275nov"](t,12).ngClassValid,l["\u0275nov"](t,12).ngClassInvalid,l["\u0275nov"](t,12).ngClassPending),n(t,13,0,l["\u0275nov"](t,14).isMultiple,l["\u0275nov"](t,18).ngClassUntouched,l["\u0275nov"](t,18).ngClassTouched,l["\u0275nov"](t,18).ngClassPristine,l["\u0275nov"](t,18).ngClassDirty,l["\u0275nov"](t,18).ngClassValid,l["\u0275nov"](t,18).ngClassInvalid,l["\u0275nov"](t,18).ngClassPending)}))}function b(n){return l["\u0275vid"](0,[l["\u0275qud"](671088640,1,{attachmentButton:0}),l["\u0275qud"](671088640,2,{tagsButton:0}),(n()(),l["\u0275eld"](2,0,null,null,13,"ol",[["class","breadcrumb mb-2"]],null,null,null,null,null)),(n()(),l["\u0275eld"](3,0,null,null,4,"li",[["class","breadcrumb-item"]],null,null,null,null,null)),(n()(),l["\u0275eld"](4,0,null,null,1,"a",[],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onClickStep("home")&&l),l}),null,null)),(n()(),l["\u0275ted"](-1,null,[" Data Inventory Hub "])),(n()(),l["\u0275eld"](6,0,null,null,1,"ta-icon",[["height","8"],["icon","caret-right"]],[[4,"color",null],[8,"className",0]],null,null,s.db,s.t)),l["\u0275did"](7,114688,null,0,o.Rb,[],{height:[0,"height"],icon:[1,"icon"]},null),(n()(),l["\u0275eld"](8,0,null,null,4,"li",[["class","breadcrumb-item"]],null,null,null,null,null)),(n()(),l["\u0275eld"](9,0,null,null,1,"a",[],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onClickStep("home")&&l),l}),null,null)),(n()(),l["\u0275ted"](-1,null,[" Business Processes "])),(n()(),l["\u0275eld"](11,0,null,null,1,"ta-icon",[["height","8"],["icon","caret-right"]],[[4,"color",null],[8,"className",0]],null,null,s.db,s.t)),l["\u0275did"](12,114688,null,0,o.Rb,[],{height:[0,"height"],icon:[1,"icon"]},null),(n()(),l["\u0275eld"](13,0,null,null,2,"li",[["class","breadcrumb-item"]],null,null,null,null,null)),(n()(),l["\u0275eld"](14,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),l["\u0275ted"](15,null,["",""])),(n()(),l["\u0275eld"](16,0,null,null,1,"h5",[["class","mb-2"]],null,null,null,null,null)),(n()(),l["\u0275ted"](17,null,["",""])),(n()(),l["\u0275and"](16777216,null,null,1,null,f)),l["\u0275did"](19,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,t){var e=t.component;n(t,7,0,"8","caret-right"),n(t,12,0,"8","caret-right"),n(t,19,0,e.currentRoute)}),(function(n,t){var e=t.component;n(t,6,0,l["\u0275nov"](t,7).color,l["\u0275nov"](t,7).className),n(t,11,0,l["\u0275nov"](t,12).color,l["\u0275nov"](t,12).className),n(t,15,0,e.bpName),n(t,17,0,e.bpName)}))}},PTJf:function(n,t,e){"use strict";e.d(t,"a",(function(){return o}));var l=e("26FU"),s=e("CcnG"),o=function(){function n(){this.getBpName=new l.a("Untitled")}return n.ngInjectableDef=s.defineInjectable({factory:function(){return new n},token:n,providedIn:"root"}),n}()},iq6R:function(n,t,e){"use strict";e.d(t,"a",(function(){return l}));var l=function(){return function(){}}()},kQEY:function(n,t,e){"use strict";e.d(t,"a",(function(){return d}));var l=e("F/XL"),s=e("XlPw"),o=e("67Y/"),i=e("HnLW"),u=e("HcYG"),a=e("FPqJ"),r=e("CcnG"),c=e("t/Na"),d=function(){function n(n,t){this.httpClient=n,this.httpUtilsService=t,this.typeToUrlMap={},this.typeToUrlMap[a.a.BusinessProcess]="/api/tags/business-processes",this.typeToUrlMap[a.a.CompanyEntity]="/api/tags/company-entities",this.typeToUrlMap[a.a.ItSystem]="/api/tags/it-systems",this.typeToUrlMap[a.a.ThirdParty]="/api/tags/third-parties"}return n.prototype.getTags=function(n){return n?Object(u.g)(n)?Object(s.a)("Invalid ID: "+n):this.httpClient.get("/api/base-records/"+n+"/tags",{}).pipe(Object(o.a)((function(n){return n.tags}))):Object(l.a)([])},n.prototype.putTags=function(n,t){return n?Object(u.g)(n)?Object(s.a)("Invalid ID: "+n):this.httpClient.put("/api/base-records/"+n+"/tags",{tags:t}):Object(l.a)({})},n.prototype.getAllTags=function(n,t){void 0===t&&(t=!1);var e=this.typeToUrlMap[n];return t&&(e+="?flatten=false&includeChild=true"),e?this.httpClient.get(e,{}):Object(l.a)([])},n.ngInjectableDef=r.defineInjectable({factory:function(){return new n(r.inject(c.c),r.inject(i.a))},token:n,providedIn:"root"}),n}()},tR8B:function(n,t,e){"use strict";e.d(t,"a",(function(){return h}));var l=e("mrSG"),s=e("CcnG"),o=e("9tKR"),i=e("26FU"),u=e("+umK"),a=(e("PTJf"),e("5L+J")),r=e("M4jF"),c=(e("54QL"),e("fTqk")),d=e("XvOt"),p=(e("ElT0"),e("kQEY"),e("gIcY")),g=[{id:"DRAFT",name:"Draft"},{id:"IN_REVIEW",name:"In review"},{id:"PUBLISH",name:"Publish"},{id:"REVISE",name:"Revise"}],h=function(){function n(n,t,e,l,u,a,r,c,d,h,m){this.businessProcessWizardService=n,this.modalService=t,this.activatedRoute=e,this.router=l,this.featureFlagControllerService=u,this.attachmentService=a,this.businessProcessControllerService=r,this.baseRecordsControllerService=c,this.formBuilder=d,this.clipboardService=h,this.toastService=m,this.classes="bg-white pl-3 pr-3 pt-0 pb-2 d-block",this.record={name:"Untitled"},this.attachmentsCount=new i.a(0),this.attachmentsCount$=this.attachmentsCount.asObservable(),this.tagsCount=new i.a(0),this.tagsCount$=this.tagsCount.asObservable(),this.businessProcessNavigation=o.a,this.isClickSteps=new s.EventEmitter,this.customItemClicked=new s.EventEmitter,this.bpStatuses=g,this.status=new p.g(""),this.statusForm=d.group({status:this.status})}return n.prototype.ngOnInit=function(){var n=this;this.getFeatureLicenses(),this.isShowingSpinner=!1,this._bpName$=this.businessProcessWizardService.getBpName.subscribe((function(t){n.bpName=t}),u.a),this._bpId$=this.activatedRoute.parent.params?this.activatedRoute.parent.params.subscribe((function(t){n.businessProcessId=t.id})):null,this.loadBusinessProcessDetail(),this.loadAttachmentsCount(),this.loadTagsCount()},n.prototype.ngOnDestroy=function(){},n.prototype.getFeatureLicenses=function(){var n=this;d.a.unSubscribe(this._featuresLicense$),this._featuresLicense$=this.featureFlagControllerService.getAllFeatureFlags().subscribe((function(t){n.licenses=t}))},n.prototype.onClickStep=function(n){this.isClickSteps.emit(n)},n.prototype.onCustomItemClick=function(n,t){this.customItemClicked.emit({itemName:n,state:t}),"attachments"===n&&this.openNotesAndAttachmentsModal(),"tags"===n&&this.openTagsModal()},n.prototype.loadBusinessProcessDetail=function(){var n=this;d.a.unSubscribe(this._loadBPDetail$),this._loadBPDetail$=this.businessProcessControllerService.getBusinessProcessDetails(this.businessProcessId).subscribe((function(t){n.businessProcessWizardService.getBpName.next(t.name)})),this.getBusinessProcessStatus()},n.prototype.loadAttachmentsCount=function(){var n=this;this.businessProcessId&&(d.a.unSubscribe(this._attachmentsInfo$),this._attachmentsInfo$=this.attachmentService.getAttachments(this.businessProcessId).subscribe((function(t){n.attachmentsCount.next(t.length)})))},n.prototype.openNotesAndAttachmentsModal=function(){var n=this,t=this.modalService.open(a.a);t.componentInstance.businessProcessId=this.businessProcessId,t.result.then((function(t){n.attachmentsUpdated(t),n.attachmentButton.el.nativeElement.blur()}),(function(t){n.modalError(t),n.attachmentButton.el.nativeElement.blur()}))},n.prototype.attachmentsUpdated=function(n){this.attachmentsCount.next(n)},n.prototype.copyBPIDtoClipboard=function(){window&&window.location.href&&(this.clipboardService.copyFromContent(window.location.href),this.toastService.success("Record link copied to clipboard.",null,1e4))},n.prototype.modalError=function(n){n&&console.error(n)},n.prototype.getBusinessProcessStatus=function(){var n=this;this.isShowingSpinner=!0,d.a.unSubscribe(this._getStatus$),this._getStatus$=this.businessProcessControllerService.getBusinessProcessStatus(this.businessProcessId).subscribe((function(t){var e=n.bpStatuses.find((function(n){return n.id===t.status}));n.statusForm.get("status").patchValue(e.name),n.selectedStatus=t,n.isShowingSpinner=!1}),(function(t){console.error(t),n.isShowingSpinner=!0}))},n.prototype.bpStatusChange=function(){var n=this;this.isShowingSpinner=!0,this.selectedStatus.status=this.statusForm.get("status").value.id,d.a.unSubscribe(this._updateStatus$),this._updateStatus$=this.businessProcessControllerService.putBusinessProcessStatus(this.businessProcessId,this.selectedStatus).subscribe((function(t){n.isShowingSpinner=!1}),(function(t){console.error(t),n.isShowingSpinner=!1}))},n.prototype.loadTagsCount=function(){var n=this;this.businessProcessId&&(d.a.unSubscribe(this._tagsInfo$),this._tagsInfo$=this.baseRecordsControllerService.getTags(this.businessProcessId).subscribe((function(t){n.tagsCount.next(n.getTagsCount(t))})))},n.prototype.openTagsModal=function(){var n=this,t=this.modalService.open(r.a);t.componentInstance.businessProcessId=this.businessProcessId,t.result.then((function(t){n.tagsUpdate(t),n.tagsButton.el.nativeElement.blur()}),(function(t){n.modalError(t),n.tagsButton.el.nativeElement.blur()}))},n.prototype.tagsUpdate=function(n){this.tagsCount.next(n)},n.prototype.getTagsCount=function(n){return n.length>0?n.reduce((function(n,t){return n+t.values.length}),0):0},Object(l.b)([Object(c.a)(["_attachmentsInfo$","_bpName$","_bpId$","_loadBPDetail$","_tagsInfo$","_getStatus$","_updateStatus$"])],n)}()}}]);