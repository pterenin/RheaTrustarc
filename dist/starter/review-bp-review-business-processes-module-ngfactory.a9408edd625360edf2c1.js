(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"10+N":function(e,n,t){"use strict";t.r(n);var l=t("CcnG"),a=function(){return function(){}}(),i=t("tr7A"),o=t("py1L"),s=t("Z4lR"),r=t("/72/"),u=t("MMEF"),c=t("abML"),d=t("pMnS"),p=t("1ut8"),b=t("Ip0R"),v=t("NQgJ"),m=t("tR8B"),f=t("PTJf"),g=t("ZYCi"),h=t("4B+E"),w=t("54QL"),y=t("zmqE"),C=t("kQEY"),R=t("gIcY"),S=t("Axip"),x=t("JPCe"),I=t("9pHD"),k=t("mrSG"),P=t("K9Ia"),D=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(k.c)(n,e),n}(function(){function e(){this.emitChangeSource=new P.a,this.changeEmitted$=this.emitChangeSource.asObservable()}return e.prototype.emitChange=function(e){this.emitChangeSource.next(e)},e.ngInjectableDef=l.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}()),F=[{label:"Business Process",url:"background",title:"Business Process Record Background"},{label:"Final Review",url:"review",title:"Final Review"}],E=t("fTqk"),B=function(){function e(e,n,t,l){this.router=e,this.activatedRoute=n,this.reviewStepService=t,this.reviewStepContainerService=l}return e.prototype.ngOnInit=function(){var e=this;this.setCurrentUrlData(),this._routerChange$=this.router.events.subscribe((function(n){n instanceof g.e?e.reviewStepService.emitChange("navigation"):n instanceof g.d&&e.setCurrentUrlData()}))},e.prototype.ngOnDestroy=function(){},e.prototype.saveReviewForm=function(){this.reviewStepContainerService.emitChange("navigation")},e.prototype.setCurrentUrlData=function(){var e=this;this.currentUrl=_.last(this.router.url.split("/")),this.currentIndex=F.findIndex((function(n){return n.url===e.currentUrl})),this.currentTitle=F[this.currentIndex]?F[this.currentIndex].title:""},e.prototype.navigateToNewUrl=function(e){var n=this.currentIndex+e;F[n]&&this.navigate(F[n].url)},e.prototype.navigate=function(e){this.router.navigate([e],{relativeTo:this.activatedRoute})},Object(k.b)([Object(E.a)(["_routerChange$","_onSubmit$"])],e)}(),T=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function O(e){return l["\u0275vid"](0,[l["\u0275ncd"](null,0),(e()(),l["\u0275eld"](1,0,null,null,15,"ta-page-footer-nav",[],null,null,null,x.b,x.a)),l["\u0275did"](2,114688,null,0,I.a,[],{currentFormValidity:[0,"currentFormValidity"]},null),(e()(),l["\u0275eld"](3,0,null,1,1,"span",[["class","stepper"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" Review Step "])),(e()(),l["\u0275eld"](5,0,null,0,3,"button",[["class","page-cancel btn-lg"],["routerLink","/business-process"],["taButton",""],["taType","link"],["type","button"]],[[8,"className",0]],[[null,"click"],[null,"focus"],[null,"mouseleave"]],(function(e,n,t){var a=!0;return"click"===n&&(a=!1!==l["\u0275nov"](e,6).onClick()&&a),"focus"===n&&(a=!1!==l["\u0275nov"](e,7).onMouseEnter()&&a),"mouseleave"===n&&(a=!1!==l["\u0275nov"](e,7).onMouseLeave()&&a),a}),i.U,i.k)),l["\u0275did"](6,16384,null,0,g.o,[g.n,g.a,[8,null],l.Renderer2,l.ElementRef],{routerLink:[0,"routerLink"]},null),l["\u0275did"](7,573440,null,0,p.Eb,[l.ElementRef],{taType:[0,"taType"]},null),(e()(),l["\u0275ted"](-1,0,[" Exit "])),(e()(),l["\u0275eld"](9,0,null,2,3,"button",[["class","page-prev btn-lg mr-2"],["data-cy","back"],["routerLink","security-and-risk"],["taButton",""],["taType","secondary"],["type","button"]],[[8,"className",0]],[[null,"click"],[null,"focus"],[null,"mouseleave"]],(function(e,n,t){var a=!0,i=e.component;return"click"===n&&(a=!1!==l["\u0275nov"](e,10).onClick()&&a),"focus"===n&&(a=!1!==l["\u0275nov"](e,11).onMouseEnter()&&a),"mouseleave"===n&&(a=!1!==l["\u0275nov"](e,11).onMouseLeave()&&a),"click"===n&&(a=!1!==i.saveReviewForm()&&a),a}),i.U,i.k)),l["\u0275did"](10,16384,null,0,g.o,[g.n,g.a,[8,null],l.Renderer2,l.ElementRef],{routerLink:[0,"routerLink"]},null),l["\u0275did"](11,573440,null,0,p.Eb,[l.ElementRef],{taType:[0,"taType"]},null),(e()(),l["\u0275ted"](-1,0,[" Back "])),(e()(),l["\u0275eld"](13,0,null,3,3,"button",[["class","page-next btn-lg"],["data-cy","finish"],["routerLink","/business-process"],["taButton",""],["taType","primary"],["type","button"]],[[8,"className",0]],[[null,"click"],[null,"focus"],[null,"mouseleave"]],(function(e,n,t){var a=!0;return"click"===n&&(a=!1!==l["\u0275nov"](e,14).onClick()&&a),"focus"===n&&(a=!1!==l["\u0275nov"](e,15).onMouseEnter()&&a),"mouseleave"===n&&(a=!1!==l["\u0275nov"](e,15).onMouseLeave()&&a),a}),i.U,i.k)),l["\u0275did"](14,16384,null,0,g.o,[g.n,g.a,[8,null],l.Renderer2,l.ElementRef],{routerLink:[0,"routerLink"]},null),l["\u0275did"](15,573440,null,0,p.Eb,[l.ElementRef],{taType:[0,"taType"]},null),(e()(),l["\u0275ted"](-1,0,[" Finish "]))],(function(e,n){e(n,2,0,!0),e(n,6,0,"/business-process"),e(n,7,0,"link"),e(n,10,0,"security-and-risk"),e(n,11,0,"secondary"),e(n,14,0,"/business-process"),e(n,15,0,"primary")}),(function(e,n){e(n,5,0,l["\u0275nov"](n,7).className),e(n,9,0,l["\u0275nov"](n,11).className),e(n,13,0,l["\u0275nov"](n,15).className)}))}var N=t("9tKR"),j=t("1TgF"),L=t("jFoF"),$=t("psW0"),V=(t("ElT0"),function(){function e(e,n,t,l){this.router=e,this.featureFlagControllerService=n,this.createBusinessProcessesService=t,this.businessProcessService=l,this.licenses={},this.record={},this.isFetching=!1,this.businessProcessNavigation=N.a}return e.prototype.ngOnInit=function(){var e=this,n=this.router.url.split("/")[2];this.pageSteps=F,this.isFetching=!0,this.businessProcessService.getBackground(n).pipe(Object($.a)((function(n){return e.record=n,e.featureFlagControllerService.getAllFeatureFlags()}))).subscribe((function(n){e.licenses=n,e.isFetching=!1}),(function(n){console.error("There was an error in obtaining the bp record:",n),e.isFetching=!1}))},e.prototype.navigate=function(e){var n=_.last(this.router.url.split("/"));this.router.navigate([this.router.url.replace(n,e)])},e.prototype.navigate12Header=function(e){var n=this;if("cancel"===e||"home"===e)this.router.navigateByUrl("/business-process");else{var t=_.last(this.router.url.split("/"));this.router.navigate([this.router.url.replace(t,e)]).then((function(){n.createBusinessProcessesService.setSelectedStep(e)}))}},e}()),z=l["\u0275crt"]({encapsulation:2,styles:[[".heading{font-size:1.75rem;font-weight:500;font-style:normal;margin-bottom:.5rem}.sub-heading{font-size:.875rem;font-weight:500;margin-bottom:.75rem}.data-label{margin-bottom:7px}.record-details-container{padding-top:1rem;display:block;width:656px;margin:0 auto;padding-bottom:5rem}.record-details-container .tab-pane{padding-left:0;padding-right:0}.card{box-shadow:0 1px 4px 0 rgba(0,0,0,.15)}.card .card-header{font-size:.875rem}button,input,textarea{outline:0!important;box-shadow:none!important}strong{font-weight:500}input::-ms-clear{display:none;width:0;height:0}input::-ms-reveal{display:none;width:0;height:0}input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none}ta-create-bp,ta-review-bp{padding-bottom:60px;display:block}ta-create-bp ta-steps,ta-review-bp ta-steps{margin-top:1rem;margin-bottom:1rem}ta-review-bp ta-page-nav ta-page-nav-default.active:before{content:'\\2605';font-size:1.125rem;padding-top:1px}ta-review-bp ta-steps{display:block;overflow:hidden;min-height:58px;padding:15px 0;position:relative;z-index:0;justify-content:center;text-align:center;margin:1rem auto 0}ta-review-bp ta-steps .ta-step.active .ta-step-label{font-weight:400}ta-review-bp ta-steps .active{position:relative}ta-review-bp ta-steps .active .ta-step-num{font-size:0}ta-review-bp ta-steps .active .star{font-size:24px;position:absolute;top:11px;left:3px;color:#fff}"]],data:{}});function A(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"span",[["class","star"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" \u2b51 "]))],null,null)}function U(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,"ta-step",[],[[1,"class",0]],[[null,"click"]],(function(e,n,t){var a=!0,i=e.component;return"click"===n&&(l["\u0275nov"](e.parent,1).setActiveStep(e.context.index+1),a=!1!==i.navigate(e.context.$implicit.url)&&a),a}),i.P,i.f)),l["\u0275did"](1,2146304,[[1,4]],0,p.ab,[p.bb],{stepNumber:[0,"stepNumber"]},null),(e()(),l["\u0275ted"](2,0,[" "," "])),(e()(),l["\u0275and"](16777216,null,0,1,null,A)),l["\u0275did"](4,16384,null,0,b.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,n){var t=n.component;e(n,1,0,n.context.index+1),e(n,4,0,n.context.$implicit.label===t.pageSteps[1].label)}),(function(e,n){e(n,0,0,"ta-step d-flex justify-content-center align-items-center"+(l["\u0275nov"](n,1).status?" "+l["\u0275nov"](n,1).status:"")),e(n,2,0,n.context.$implicit.label)}))}function M(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,"ta-steps",[],[[1,"class",0]],null,null,i.Q,i.g)),l["\u0275did"](1,573440,[["taStep",4]],1,p.bb,[],{activeStep:[0,"activeStep"]},null),l["\u0275qud"](603979776,1,{steps:1}),(e()(),l["\u0275and"](16777216,null,0,1,null,U)),l["\u0275did"](4,278528,null,0,b.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,n){var t=n.component;e(n,1,0,2),e(n,4,0,t.pageSteps)}),(function(e,n){e(n,0,0,"ta-steps d-flex"+(l["\u0275nov"](n,1).theme?" "+l["\u0275nov"](n,1).theme:"")+(l["\u0275nov"](n,1).stepStyle?" "+l["\u0275nov"](n,1).stepStyle:""))}))}function W(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"ta-business-process-wizard-header",[["style","margin-bottom:.5rem"]],[[8,"className",0]],[[null,"isClickSteps"]],(function(e,n,t){var l=!0;return"isClickSteps"===n&&(l=!1!==e.component.navigate12Header(t)&&l),l}),v.b,v.a)),l["\u0275did"](1,245760,null,0,m.a,[f.a,p.E,g.a,g.n,h.a,w.a,y.a,C.a,R.f,S.b,p.Db],{currentRoute:[0,"currentRoute"],record:[1,"record"]},{isClickSteps:"isClickSteps"})],(function(e,n){var t=n.component;e(n,1,0,t.businessProcessNavigation[4],t.record)}),(function(e,n){e(n,0,0,l["\u0275nov"](n,1).classes)}))}function q(e){return l["\u0275vid"](0,[(e()(),l["\u0275and"](16777216,null,null,1,null,M)),l["\u0275did"](1,16384,null,0,b.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,W)),l["\u0275did"](3,16384,null,0,b.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](4,0,null,null,4,"ta-review-step-container",[],null,null,null,O,T)),l["\u0275prd"](512,null,D,D,[]),l["\u0275did"](6,245760,null,0,B,[g.n,g.a,D,D],null,null),(e()(),l["\u0275eld"](7,16777216,null,0,1,"router-outlet",[],null,null,null,null,null)),l["\u0275did"](8,212992,null,0,g.r,[g.b,l.ViewContainerRef,l.ComponentFactoryResolver,[8,null],l.ChangeDetectorRef],null,null)],(function(e,n){var t=n.component;e(n,1,0,!t.isFetching&&!t.licenses.RHEA_NEW_UI_STEPS_12_LICENSE),e(n,3,0,!t.isFetching&&t.licenses.RHEA_NEW_UI_STEPS_12_LICENSE&&t.businessProcessNavigation[4]),e(n,6,0),e(n,8,0)}),null)}function H(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"ta-review-bp",[],null,null,null,q,z)),l["\u0275did"](1,114688,null,0,V,[g.n,h.a,j.a,L.a],null,null)],(function(e,n){e(n,1,0)}),null)}var K=l["\u0275ccf"]("ta-review-bp",V,H,{},{},[]),J=t("vWFL"),G=t("OI/C"),Q=function(){function e(){}return e.prototype.transform=function(e,n,t){return void 0===n&&(n=0),void 0===t&&(t=6),_.chunk(e,t)[n]},e}(),Y=function(e,n){for(var t=0,l=n.length;t<l;++t){var a=n[t];if(!(a in e))return;e=e[a]?e[a]:""}return e},Z=function(e,n){for(var t=[],l=2;l<arguments.length;l++)t[l-2]=arguments[l];var a=t.shift();if(!a.length)throw new Error("a key was provided as an empty string");var i=!1;if("-"===a.charAt(0)){if(a.length<1)throw new Error("a descending key was missing the key name");a=a.substr(1),i=!0}var o=a&&-1!==a.indexOf("."),s=o?a.split("."):[];if(!e.hasOwnProperty(a=o&&s.length>1?s[0]:a)||!n.hasOwnProperty(a))throw new Error("a key you are attempting to sort by is not on all objects");var r=i?-1:1;if(o){if(Y(e,s)>Y(n,s))return 1*r;if(Y(e,s)<Y(n,s))return-1*r}return e[a]>n[a]?1*r:e[a]<n[a]?-1*r:t.length?Z.apply(void 0,[e,n].concat(t)):0},X=function(e,n){for(var t=[],l=2;l<arguments.length;l++)t[l-2]=arguments[l];if(!t.length)throw new Error("provide at least one key to sort by");return e.sort((function(e,l){return Z.apply(void 0,n&&l?[l,e].concat(t):[e,l].concat(t))})),e},ee=function(){function e(){}return e.prototype.transform=function(e,n){for(var t=[],l=2;l<arguments.length;l++)t[l-2]=arguments[l];return X.apply(void 0,[e.slice(),n].concat(t))},e}(),ne=t("26FU"),te=function(){function e(e,n){this.activatedRoute=e,this.taPaginationConfig=n,this.tableDataInput=[],this.tableChanged=new l.EventEmitter,this.tableId="REVIEW_TABLE",this.totalRows=0,this.pageSize=5,this.currentPage=1,this.SORT_DEFAULT="category",this.sortProperty=this.SORT_DEFAULT,this.sortOrder=!0,this.legalBasisStyleClass="legal-basis-class",this.legalBasisPopoverStyleClass="legal-basis-popover-class",this.activatedRoute.parent&&(this.businessProcessId=this.activatedRoute.parent.snapshot.params.id)}return e.prototype.ngOnInit=function(){this.taPaginationConfig.paginatorRows=[5,25,50,75,100,200],this.tableDataSubject=new ne.a(this.tableDataInput),this.tableData$=this.tableDataSubject.asObservable(),this.legalBasisOptions=this.mapLegalBasisforCategoricalDropDownOptions(this.legalBasesInput)},e.prototype.ngAfterViewInit=function(){},e.prototype.ngOnDestroy=function(){},e.prototype.mapLegalBasisforCategoricalDropDownOptions=function(e){return _(e).groupBy((function(e){return e.category})).map((function(e,n){return{id:n,label:n,items:e.map((function(e){return{id:e.id,label:e.shortName}}))}})).value()},e.prototype.onChangePage=function(e){this.currentPage=e},e.prototype.onChangeMax=function(e){this.pageSize=e,this.tableDataSubject.next(this.tableDataInput),this.tableChanged.emit(this.tableDataInput)},e.prototype.selectLegalBasis=function(e){var n=this;this.associatedProcessingPurposeId&&(this.tableDataInput.find((function(e){return e.processingPurposeId===n.associatedProcessingPurposeId})).legalBasis={id:e.id,label:e.label},this.associatedProcessingPurposeId=null,this.tableDataSubject.next(this.tableDataInput),this.tableChanged.emit(this.tableDataInput)),this.popovers.forEach((function(e){return e.close()}))},e.prototype.popOverProcessingPurpose=function(e){this.associatedProcessingPurposeId=e},e.prototype.onSort=function(e){this.sortProperty=e.column,this.sortOrder="asc"===e.direction,this.tableDataSubject.next(this.tableDataInput),this.tableChanged.emit(this.tableDataInput)},Object(k.b)([Object(E.a)(["_legalBasisOptions$","_processingPurposes$"])],e)}(),le=l["\u0275crt"]({encapsulation:2,styles:[[".card{box-shadow:0 1px 4px 0 rgba(0,0,0,.15)}.card .card-header{font-size:.875rem}button,input,textarea{outline:0!important;box-shadow:none!important}strong{font-weight:500}input::-ms-clear{display:none;width:0;height:0}input::-ms-reveal{display:none;width:0;height:0}input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none}.legal-basis-item{overflow:visible}.legal-basis-item .wraptext{overflow:visible!important}.custom-dropDownButton{max-width:182px}ta-table-cell.ta-table-cell.legal-basis-item{padding:0!important}.legal-basis-popover-class{width:400px;max-width:400px;margin-top:0!important}.legal-basis-popover-class .arrow{display:none}.legal-basis-popover-class .popover-body{padding:0}ta-table-cell>span>ta-badge>.badge-custom{background-color:#b35bc6;text-transform:uppercase;margin-left:5px;height:16px;width:58px}ta-review-table .legal-basis-dropdown{max-width:160px}"]],data:{}});function ae(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"ta-badge",[["type","custom"],["values","Custom"]],[[8,"className",0]],null,null,i.jb,i.z)),l["\u0275did"](1,573440,null,0,p.dc,[p.ec],{type:[0,"type"],values:[1,"values"]},null)],(function(e,n){e(n,1,0,"custom","Custom")}),(function(e,n){e(n,0,0,l["\u0275nov"](n,1).className)}))}function ie(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"ta-badge",[["type","custom"],["values","Custom"]],[[8,"className",0]],null,null,i.jb,i.z)),l["\u0275did"](1,573440,null,0,p.dc,[p.ec],{type:[0,"type"],values:[1,"values"]},null)],(function(e,n){e(n,1,0,"custom","Custom")}),(function(e,n){e(n,0,0,l["\u0275nov"](n,1).className)}))}function oe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,23,null,null,null,null,null,null,null)),(e()(),l["\u0275eld"](1,16777216,null,null,22,"ta-table-row",[],[[1,"data-cy",0],[1,"class",0]],null,null,i.cb,i.s)),l["\u0275did"](2,5357568,[[4,4]],2,p.Qb,[p.ib,l.ViewContainerRef,l.ElementRef],{taItem:[0,"taItem"]},null),l["\u0275qud"](603979776,11,{_cells:1}),l["\u0275qud"](335544320,12,{_detail:0}),(e()(),l["\u0275eld"](5,16777216,null,null,4,"ta-table-cell",[],[[1,"class",0],[2,"ta-table-cell-hidden",null],[4,"max-width","px"]],null,null,i.bb,i.r)),l["\u0275did"](6,8503296,[[11,4]],0,p.Nb,[p.ib,l.ViewContainerRef,l.ElementRef,l.ChangeDetectorRef],null,null),(e()(),l["\u0275ted"](7,0,[" "," "])),(e()(),l["\u0275and"](16777216,null,0,1,null,ae)),l["\u0275did"](9,16384,null,0,b.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](10,16777216,null,null,4,"ta-table-cell",[],[[1,"class",0],[2,"ta-table-cell-hidden",null],[4,"max-width","px"]],null,null,i.bb,i.r)),l["\u0275did"](11,8503296,[[11,4]],0,p.Nb,[p.ib,l.ViewContainerRef,l.ElementRef,l.ChangeDetectorRef],null,null),(e()(),l["\u0275ted"](12,0,[" "," "])),(e()(),l["\u0275and"](16777216,null,0,1,null,ie)),l["\u0275did"](14,16384,null,0,b.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](15,16777216,null,null,8,"ta-table-cell",[],[[1,"class",0],[2,"ta-table-cell-hidden",null],[4,"max-width","px"]],null,null,i.bb,i.r)),l["\u0275did"](16,8503296,[[11,4]],0,p.Nb,[p.ib,l.ViewContainerRef,l.ElementRef,l.ChangeDetectorRef],null,null),(e()(),l["\u0275eld"](17,16777216,null,0,6,"div",[["container","body"]],null,[[null,"shown"]],(function(e,n,t){var l=!0;return"shown"===n&&(l=!1!==e.component.popOverProcessingPurpose(e.context.$implicit.processingPurposeId)&&l),l}),null,null)),l["\u0275did"](18,737280,[[2,4]],0,p.O,[l.ElementRef,l.Renderer2,l.Injector,l.ComponentFactoryResolver,l.ViewContainerRef,p.P,l.NgZone,b.DOCUMENT],{autoClose:[0,"autoClose"],taPopover:[1,"taPopover"],placement:[2,"placement"],container:[3,"container"],popoverClass:[4,"popoverClass"]},{shown:"shown"}),l["\u0275pad"](19,2),(e()(),l["\u0275eld"](20,0,null,null,3,"button",[["class","w-100 d-block custom-dropDownButton "],["data-cy","select-legal-basis"],["taButton",""],["taType","dropdown"],["type","button"]],[[8,"className",0]],[[null,"focus"],[null,"mouseleave"]],(function(e,n,t){var a=!0;return"focus"===n&&(a=!1!==l["\u0275nov"](e,21).onMouseEnter()&&a),"mouseleave"===n&&(a=!1!==l["\u0275nov"](e,21).onMouseLeave()&&a),a}),i.U,i.k)),l["\u0275did"](21,573440,null,0,p.Eb,[l.ElementRef],{taType:[0,"taType"]},null),(e()(),l["\u0275eld"](22,16777216,null,0,1,"span",[["class","text-truncate mr-1 placeholder-text d-block"],["container","body"],["placement","right-bottom"],["tooltipTheme","light"]],[[8,"innerText",0]],null,null,null,null)),l["\u0275did"](23,212992,null,0,p.wb,[l.ElementRef,l.Renderer2,l.Injector,l.ComponentFactoryResolver,l.ViewContainerRef,p.xb,l.NgZone,b.DOCUMENT],{placement:[0,"placement"],container:[1,"container"],tooltipTheme:[2,"tooltipTheme"],taTooltip:[3,"taTooltip"]},null),(e()(),l["\u0275and"](0,null,null,0))],(function(e,n){var t=n.component;e(n,2,0,n.context.$implicit),e(n,6,0),e(n,9,0,n.context.$implicit.isCustom),e(n,11,0),e(n,14,0,n.context.$implicit.isCustom),e(n,16,0);var a=l["\u0275nov"](n.parent.parent,7),i=e(n,19,0,"bottom-right","top-right");e(n,18,0,"outside",a,i,"body",t.legalBasisPopoverStyleClass),e(n,21,0,"dropdown"),e(n,23,0,"right-bottom","body","light",n.context.$implicit&&n.context.$implicit.legalBasis&&n.context.$implicit.legalBasis.label?n.context.$implicit.legalBasis.label:"")}),(function(e,n){e(n,1,0,n.context.$implicit.category+" "+n.context.$implicit.processingPurpose,"ta-table-row-wrapper"),e(n,5,0,"ta-table-cell d-flex align-items-top"+(l["\u0275nov"](n,6).class?" "+l["\u0275nov"](n,6).class:""),!l["\u0275nov"](n,6).taVisible,l["\u0275nov"](n,6).taWidth),e(n,7,0,n.context.$implicit.category),e(n,10,0,"ta-table-cell d-flex align-items-top"+(l["\u0275nov"](n,11).class?" "+l["\u0275nov"](n,11).class:""),!l["\u0275nov"](n,11).taVisible,l["\u0275nov"](n,11).taWidth),e(n,12,0,n.context.$implicit.processingPurpose),e(n,15,0,"ta-table-cell d-flex align-items-top"+(l["\u0275nov"](n,16).class?" "+l["\u0275nov"](n,16).class:""),!l["\u0275nov"](n,16).taVisible,l["\u0275nov"](n,16).taWidth),e(n,20,0,l["\u0275nov"](n,21).className),e(n,22,0,n.context.$implicit&&n.context.$implicit.legalBasis&&n.context.$implicit.legalBasis.label?n.context.$implicit.legalBasis.label:"Select")}))}function se(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"ta-pagination",[["class","ta-pagination-wrapper d-flex align-self-center"],["role","navigation"],["showingType","full"]],null,[[null,"pageChange"],[null,"onChangePageSize"]],(function(e,n,t){var l=!0,a=e.component;return"pageChange"===n&&(l=!1!==(a.currentPage=t)&&l),"pageChange"===n&&(l=!1!==a.onChangePage(t)&&l),"onChangePageSize"===n&&(l=!1!==a.onChangeMax(t)&&l),l}),i.N,i.d)),l["\u0275did"](1,573440,null,0,p.I,[p.J],{boundaryLinks:[0,"boundaryLinks"],ellipses:[1,"ellipses"],rotate:[2,"rotate"],collectionSize:[3,"collectionSize"],maxSize:[4,"maxSize"],page:[5,"page"],pageSize:[6,"pageSize"],showingType:[7,"showingType"]},{pageChange:"pageChange",onChangePageSize:"onChangePageSize"}),l["\u0275pid"](131072,b.AsyncPipe,[l.ChangeDetectorRef])],(function(e,n){var t,a=n.component;e(n,1,0,!0,!0,!0,null==(t=l["\u0275unv"](n,1,3,l["\u0275nov"](n,2).transform(a.tableData$)))?null:t.length,1,a.currentPage,a.pageSize,"full")}),null)}function re(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,28,"ta-table",[["class","ta-table-wrapper-border"]],[[1,"class",0],[2,"ta-table-loading",null],[2,"ta-table-loaded",null],[2,"ta-table-expandable",null],[2,"server-process",null]],[[null,"onSort"],["window","resize"]],(function(e,n,t){var a=!0,i=e.component;return"window:resize"===n&&(a=!1!==l["\u0275nov"](e,1).onResize(t)&&a),"onSort"===n&&(a=!1!==i.onSort(t)&&a),a}),i.S,i.h)),l["\u0275did"](1,4964352,null,8,p.ib,[l.ElementRef,p.Cb],{id:[0,"id"],class:[1,"class"],serverProcess:[2,"serverProcess"]},{onSort:"onSort"}),l["\u0275qud"](603979776,3,{_columns:1}),l["\u0275qud"](603979776,4,{_rows:1}),l["\u0275qud"](603979776,5,{_cells:1}),l["\u0275qud"](603979776,6,{_footer:1}),l["\u0275qud"](603979776,7,{_search:1}),l["\u0275qud"](603979776,8,{_showHide:1}),l["\u0275qud"](603979776,9,{_toolbar:1}),l["\u0275qud"](603979776,10,{_filter:1}),(e()(),l["\u0275eld"](10,16777216,null,null,2,"ta-table-column",[["taField","category"],["taWidth","160"]],[[1,"class",0],[4,"max-width","px"],[4,"min-width","px"],[4,"width","px"],[2,"ta-table-cell-hidden",null]],[[null,"click"]],(function(e,n,t){var a=!0;return"click"===n&&(a=!1!==l["\u0275nov"](e,11).onClick()&&a),a}),i.R,i.i)),l["\u0275did"](11,4308992,[[3,4]],0,p.jb,[p.ib,l.ViewContainerRef,l.ElementRef,l.Renderer2],{taField:[0,"taField"],taWidth:[1,"taWidth"]},null),(e()(),l["\u0275ted"](-1,0,["Category"])),(e()(),l["\u0275eld"](13,16777216,null,null,2,"ta-table-column",[["taField","processingPurpose"],["taWidth","260"]],[[1,"class",0],[4,"max-width","px"],[4,"min-width","px"],[4,"width","px"],[2,"ta-table-cell-hidden",null]],[[null,"click"]],(function(e,n,t){var a=!0;return"click"===n&&(a=!1!==l["\u0275nov"](e,14).onClick()&&a),a}),i.R,i.i)),l["\u0275did"](14,4308992,[[3,4]],0,p.jb,[p.ib,l.ViewContainerRef,l.ElementRef,l.Renderer2],{taField:[0,"taField"],taWidth:[1,"taWidth"]},null),(e()(),l["\u0275ted"](-1,0,[" Processing Purpose "])),(e()(),l["\u0275eld"](16,16777216,null,null,2,"ta-table-column",[["taField","legalBasis.label"]],[[1,"class",0],[4,"max-width","px"],[4,"min-width","px"],[4,"width","px"],[2,"ta-table-cell-hidden",null]],[[null,"click"]],(function(e,n,t){var a=!0;return"click"===n&&(a=!1!==l["\u0275nov"](e,17).onClick()&&a),a}),i.R,i.i)),l["\u0275did"](17,4308992,[[3,4]],0,p.jb,[p.ib,l.ViewContainerRef,l.ElementRef,l.Renderer2],{taField:[0,"taField"]},null),(e()(),l["\u0275ted"](-1,0,["Legal Basis"])),(e()(),l["\u0275and"](16777216,null,null,4,null,oe)),l["\u0275did"](20,278528,null,0,b.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),l["\u0275pid"](131072,b.AsyncPipe,[l.ChangeDetectorRef]),l["\u0275ppd"](22,4),l["\u0275ppd"](23,3),(e()(),l["\u0275eld"](24,16777216,null,null,4,"ta-table-footer",[],[[1,"class",0]],null,null,i.X,i.n)),l["\u0275did"](25,114688,[[6,4]],0,p.Jb,[l.ViewContainerRef],null,null),(e()(),l["\u0275and"](16777216,null,0,2,null,se)),l["\u0275did"](27,16384,null,0,b.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275pid"](131072,b.AsyncPipe,[l.ChangeDetectorRef])],(function(e,n){var t=n.component;e(n,1,0,t.tableId,"ta-table-wrapper-border",!1),e(n,11,0,"category","160"),e(n,14,0,"processingPurpose","260"),e(n,17,0,"legalBasis.label");var a,i=l["\u0275unv"](n,20,0,e(n,23,0,l["\u0275nov"](n.parent,0),l["\u0275unv"](n,20,0,e(n,22,0,l["\u0275nov"](n.parent,1),l["\u0275unv"](n,20,0,l["\u0275nov"](n,21).transform(t.tableData$)),t.sortOrder,t.sortProperty,t.sortProperty)),t.currentPage-1,t.pageSize));e(n,20,0,i),e(n,25,0),e(n,27,0,(null==(a=l["\u0275unv"](n,27,0,l["\u0275nov"](n,28).transform(t.tableData$)))?null:a.length)>0)}),(function(e,n){e(n,0,0,"ta-table-wrapper"+(l["\u0275nov"](n,1).class?" "+l["\u0275nov"](n,1).class:""),"loading"==l["\u0275nov"](n,1).status,"loaded"==l["\u0275nov"](n,1).status,l["\u0275nov"](n,1).taExpandable,l["\u0275nov"](n,1).serverProcess),e(n,10,0,(l["\u0275nov"](n,11).taResize?"resizable ":"")+"ta-table-cell d-flex"+(l["\u0275nov"](n,11).taField?" sortable":"")+(l["\u0275nov"](n,11).class?" "+l["\u0275nov"](n,11).class:"")+" "+l["\u0275nov"](n,11).filterCss()+(""!==l["\u0275nov"](n,11).filterCss()?" current-column-sort":""),l["\u0275nov"](n,11).taWidth,l["\u0275nov"](n,11).taWidth,l["\u0275nov"](n,11).taWidth,!l["\u0275nov"](n,11).taVisible),e(n,13,0,(l["\u0275nov"](n,14).taResize?"resizable ":"")+"ta-table-cell d-flex"+(l["\u0275nov"](n,14).taField?" sortable":"")+(l["\u0275nov"](n,14).class?" "+l["\u0275nov"](n,14).class:"")+" "+l["\u0275nov"](n,14).filterCss()+(""!==l["\u0275nov"](n,14).filterCss()?" current-column-sort":""),l["\u0275nov"](n,14).taWidth,l["\u0275nov"](n,14).taWidth,l["\u0275nov"](n,14).taWidth,!l["\u0275nov"](n,14).taVisible),e(n,16,0,(l["\u0275nov"](n,17).taResize?"resizable ":"")+"ta-table-cell d-flex"+(l["\u0275nov"](n,17).taField?" sortable":"")+(l["\u0275nov"](n,17).class?" "+l["\u0275nov"](n,17).class:"")+" "+l["\u0275nov"](n,17).filterCss()+(""!==l["\u0275nov"](n,17).filterCss()?" current-column-sort":""),l["\u0275nov"](n,17).taWidth,l["\u0275nov"](n,17).taWidth,l["\u0275nov"](n,17).taWidth,!l["\u0275nov"](n,17).taVisible),e(n,24,0,"ta-table-foot")}))}function ue(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"ta-categorical-view",[["class","not-in-dropdown border-0"],["idPrefix","legalBasis"],["placeHolder","Search"],["reselectable","true"]],null,[[null,"itemSelected"],["document","click"]],(function(e,n,t){var a=!0,i=e.component;return"document:click"===n&&(a=!1!==l["\u0275nov"](e,2).clickOut(t)&&a),"itemSelected"===n&&(a=!1!==i.selectLegalBasis(t)&&a),a}),J.b,J.a)),l["\u0275prd"](5120,null,R.o,(function(e){return[e]}),[G.a]),l["\u0275did"](2,638976,[[1,4],["categoricalViewComponent",4]],0,G.a,[l.ElementRef],{idPrefix:[0,"idPrefix"],openByDefault:[1,"openByDefault"],placeHolder:[2,"placeHolder"],reselectable:[3,"reselectable"],showCategoryItemCount:[4,"showCategoryItemCount"],styleClass:[5,"styleClass"],data:[6,"data"]},{itemSelected:"itemSelected"})],(function(e,n){var t=n.component;e(n,2,0,"legalBasis",!0,"Search","true",!1,t.legalBasisStyleClass,t.legalBasisOptions)}),null)}function ce(e){return l["\u0275vid"](0,[l["\u0275pid"](0,Q,[]),l["\u0275pid"](0,ee,[]),l["\u0275qud"](671088640,1,{categoricalViewComponent:0}),l["\u0275qud"](671088640,2,{popovers:1}),(e()(),l["\u0275and"](16777216,null,null,2,null,re)),l["\u0275did"](5,16384,null,0,b.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),l["\u0275pid"](131072,b.AsyncPipe,[l.ChangeDetectorRef]),(e()(),l["\u0275and"](0,[["popContent",2]],null,0,null,ue))],(function(e,n){var t=n.component;e(n,5,0,l["\u0275unv"](n,5,0,l["\u0275nov"](n,6).transform(t.tableData$)))}),null)}var de=t("Cr54"),pe=t("/KSa"),be=t("p0ib"),ve=t("Gi3i"),me=t("/PH2"),fe=t("67Y/"),ge=t("lEz/"),he=t("t/Na"),we=function(){function e(e,n,t){this.httpClient=e,this.businessProcessService=n,this.businessProcessControllerService=t,this.isUpdatingSubject=new ne.a(!1)}return e.prototype.getIsUpdatingSubject=function(){return this.isUpdatingSubject},e.prototype.updateBusinessProcess=function(e){return e.name=e.name?e.name.trim():"",Object(ge.b)(this.businessProcessService.updateBackground(e),this.isUpdatingSubject)},e.prototype.getApproval=function(e){var n=this,t=this.businessProcessControllerService.getApprovalById(e),l=this.httpClient.get("/api/legal-bases");return t.pipe(Object(me.a)(l),Object(fe.a)((function(e){var t=e[0],l=e[1];return{id:t.id,version:t.version,name:t.name,identifier:t.identifier,status:t.status,dataRows:n.mapReviewTableRowInterfaceArray(t.processingPurposes,l,t.associations),legalBasisRows:l}})))},e.prototype.getLegalBasisOptions=function(){return this.httpClient.get("/api/legal-bases")},e.prototype.mapReviewTableRowInterfaceArray=function(e,n,t){return e.map((function(e){var l={category:e.category.replace(/([a-z])([A-Z])/g,"$1 $2"),processingPurpose:e.name,processingPurposeId:e.id,isCustom:e.isCustom,isCategoryCustom:e.isCategoryCustom,legalBasis:{label:null,id:null}},a=t.find((function(n){return n.processingPurposeId===e.id}));if(a){var i=n.find((function(e){return e.id===a.legalBasisId}));i&&(l.legalBasis.id=i.id,l.legalBasis.label=i.shortName)}return l}))},e.prototype.mapProcessingPurposesAssociations=function(e){return e.map((function(e){return{legalBasisId:e.legalBasis.id,processingPurposeId:e.processingPurposeId}})).filter((function(e){return null!==e.legalBasisId}))},e.prototype.saveBusinessProcessApproval=function(e,n,t,l,a){var i={associations:this.mapProcessingPurposesAssociations(e),id:t,status:n,version:l};return this.businessProcessControllerService.updateApproval(i,a)},e.ngInjectableDef=l.defineInjectable({factory:function(){return new e(l.inject(he.c),l.inject(L.a),l.inject(y.a))},token:e,providedIn:"root"}),e}(),ye=[{id:"DRAFT",name:"Draft"},{id:"IN_REVIEW",name:"In review"},{id:"PUBLISH",name:"Publish"},{id:"REVISE",name:"Revise"}],Ce=function(){function e(e,n,t,l,a,i,o,s){this.reviewStepContainerService=e,this.formBuilder=n,this.router=t,this.activatedRoute=l,this.stepFinalReviewService=a,this.toastService=i,this.businessProcessService=o,this.clipboardService=s,this.isNextButtonDisabled=!1,this.stepFinalReviewForm=n.group({id:[null,[R.v.required]],version:null,status:null}),this.bpId="",this.businessProcess={},this.bpStatuses=ye,this.tableDataUpdateSubject$=new P.a}return e.prototype.ngOnInit=function(){var e=this;this.activatedRoute.snapshot&&(this.bpId=this.activatedRoute.snapshot.parent.params.id),this._savedDataSubscription$&&this._savedDataSubscription$.unsubscribe(),this.getApprovalRecord(),this._navigationSubscription$&&this._navigationSubscription$.unsubscribe(),this._navigationSubscription$=this.reviewStepContainerService.changeEmitted$.subscribe((function(n){"navigation"===n&&e.save()}))},e.prototype.ngOnDestroy=function(){},e.prototype.getApprovalRecord=function(){var e=this;this.stepFinalReviewService.getApproval(this.bpId).subscribe((function(n){e.stepFinalReviewForm.get("id").patchValue(n.id),e.version=n.version,e.businessProcess.name=n.name,e.businessProcess.identifier=n.identifier,e.updateTableData(n),e.stepFinalReviewForm.markAsUntouched(),e.setAutosave()}),(function(){return e.toastService.error("Error retrieving business processes and legal bases")}))},e.prototype.updateTableData=function(e){var n=_.keyBy(this.bpStatuses,"id");n[e.status]&&this.stepFinalReviewForm.get("status").patchValue(n[e.status]),this.legalBases=e.legalBasisRows,this.tableData=e.dataRows,this.tableDataUpdateSubject$.next(this.tableData)},e.prototype.setAutosave=function(){this._formChangeSubscription$=Object(be.a)(this.stepFinalReviewForm.valueChanges,this.tableDataUpdateSubject$).pipe(Object(ve.a)(j.a.AUTOREFRESH_INTERVAL_MS/2)).subscribe(this.save.bind(this))},Object.defineProperty(e.prototype,"form",{get:function(){return this.stepFinalReviewForm.controls},enumerable:!0,configurable:!0}),e.prototype.canDeactivate=function(e,n,t,l){return!0},e.prototype.tableDataUpdated=function(e){this.tableData=e,this.tableDataUpdateSubject$.next()},e.prototype.copyUrl=function(){this.clipboardService.copyFromContent(window.location.href),this.toastService.success("Copied to clipboard: "+window.location.href,null,1e4)},e.prototype.onSubmit=function(){this.save()},e.prototype.save=function(){var e=this,n=this.stepFinalReviewForm.get("status").value,t=this.stepFinalReviewForm.get("id").value;this.tableData&&(this._saveResponseSubscription$&&this._saveResponseSubscription$.unsubscribe(),this.isSaving||(this.isSaving=!0,this.stepFinalReviewService.saveBusinessProcessApproval(this.tableData,n.id,t,this.version,this.bpId).subscribe((function(n){e.isSaving=!1,e.stepFinalReviewForm.get("id").patchValue(n.id,{emitEvent:!1}),e.version=n.version}),(function(e){console.error(e)}))))},Object(k.b)([Object(E.a)(["_paramMap$","_navigationSubscription$","_saveResponseSubscription$","_savedDataSubscription$","_formChangeSubscription$"])],e)}(),Re=l["\u0275crt"]({encapsulation:2,styles:[[".card{box-shadow:0 1px 4px 0 rgba(0,0,0,.15)}.card .card-header{font-size:.875rem}button,input,textarea{outline:0!important;box-shadow:none!important}strong{font-weight:500}input::-ms-clear{display:none;width:0;height:0}input::-ms-reveal{display:none;width:0;height:0}input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none}ta-step-final-review .review-step-section-container .final-review-header{font-size:1rem;font-weight:500}ta-step-final-review .review-step-section-container a{font-size:14px}ta-step-final-review .ta-accordion-body{padding:0}ta-step-final-review .ta-accordion-body .accordion-content-table{box-shadow:0 1px 4px 0 rgba(0,0,0,.15);background-color:#fff;border:1px solid #f1f1f1;border-radius:4px}ta-step-final-review .ta-accordion-body .accordion-content-table .ta-table-wrapper-border{border:unset;border-radius:unset}ta-step-final-review .ta-accordion-body .accordion-content-table .accordion-ol{margin:0;padding:12px 30px}ta-step-final-review .ta-accordion .ta-accordion-header ta-icon{position:absolute;right:2rem}ta-step-final-review .ta-accordion-button{padding:0!important;margin-bottom:1rem!important}ta-step-final-review .ta-table-cell .btn{min-width:100%!important}"]],data:{}});function Se(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","sub-heading mb-2 mt-0 "]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" If reviewing this business process record, expand and complete the steps outlined. "]))],null,null)}function xe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"ta-review-table",[],null,[[null,"tableChanged"]],(function(e,n,t){var l=!0;return"tableChanged"===n&&(l=!1!==e.component.tableDataUpdated(t)&&l),l}),ce,le)),l["\u0275did"](1,4440064,null,0,te,[g.a,p.J],{tableDataInput:[0,"tableDataInput"],legalBasesInput:[1,"legalBasesInput"]},{tableChanged:"tableChanged"})],(function(e,n){var t=n.component;e(n,1,0,t.tableData,t.legalBases)}),null)}function Ie(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,11,"div",[["class","accordion-content-table"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,8,"ol",[["class","m-0 accordion-ol"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,5,"li",[["class","review-step-text text-wrap"]],null,null,null,null,null)),(e()(),l["\u0275ted"](3,null,[" Review the business process "," (BP Record ID ",") and make any necessary updates. "])),(e()(),l["\u0275eld"](4,0,null,null,2,"a",[["routerLink","../background"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,n,t){var a=!0;return"click"===n&&(a=!1!==l["\u0275nov"](e,5).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&a),a}),null,null)),l["\u0275did"](5,671744,null,0,g.p,[g.n,g.a,b.LocationStrategy],{routerLink:[0,"routerLink"]},null),(e()(),l["\u0275ted"](6,null,[" Click here to open page 1 of "," (BP Record ID ",")"])),(e()(),l["\u0275ted"](-1,null,[" to begin your review "])),(e()(),l["\u0275eld"](8,0,null,null,1,"li",[["class","review-step-text"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" Select a legal basis for each processing purpose that this business process uses "])),(e()(),l["\u0275and"](16777216,null,null,1,null,xe)),l["\u0275did"](11,16384,null,0,b.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,n){var t=n.component;e(n,5,0,"../background"),e(n,11,0,t.tableData)}),(function(e,n){var t=n.component;e(n,3,0,t.businessProcess.name,t.businessProcess.identifier),e(n,4,0,l["\u0275nov"](n,5).target,l["\u0275nov"](n,5).href),e(n,6,0,t.businessProcess.name,t.businessProcess.identifier)}))}function ke(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,39,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,n,t){var a=!0,i=e.component;return"submit"===n&&(a=!1!==l["\u0275nov"](e,2).onSubmit(t)&&a),"reset"===n&&(a=!1!==l["\u0275nov"](e,2).onReset()&&a),"ngSubmit"===n&&(a=!1!==i.onSubmit()&&a),a}),null,null)),l["\u0275did"](1,16384,null,0,R.x,[],null,null),l["\u0275did"](2,540672,null,0,R.k,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),l["\u0275prd"](2048,null,R.b,null,[R.k]),l["\u0275did"](4,16384,null,0,R.r,[[4,R.b]],null,null),(e()(),l["\u0275eld"](5,0,null,null,34,"div",[["class","record-details-container"]],null,null,null,null,null)),(e()(),l["\u0275eld"](6,0,null,null,33,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275eld"](7,0,null,null,32,"div",[["class","col"]],null,null,null,null,null)),(e()(),l["\u0275eld"](8,0,null,null,7,"div",[["class","review-step-section-container p-2"]],null,null,null,null,null)),(e()(),l["\u0275eld"](9,0,null,null,1,"div",[["class","final-review-header mb-3"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" Great Job! "])),(e()(),l["\u0275eld"](11,0,null,null,1,"div",[["class","final-review-header mb-3"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" Copy the link below to send this business process to a reviewer, and update the status below to \u201cIn review.\u201d "])),(e()(),l["\u0275eld"](13,0,null,null,2,"div",[["class","p-3 text-center mb-3"]],null,null,null,null,null)),(e()(),l["\u0275eld"](14,0,null,null,1,"a",[["class","link"],["role","link"]],null,[[null,"click"]],(function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.copyUrl()&&l),l}),null,null)),(e()(),l["\u0275ted"](-1,null,[" Click here to copy the link to this business process. "])),(e()(),l["\u0275eld"](16,0,null,null,11,"div",[["class","review-step-section-container mb-4"]],null,null,null,null,null)),(e()(),l["\u0275eld"](17,0,null,null,10,"ta-accordion",[["activeIds","assessment-table"],["class","accordion"],["role","tablist"]],[[1,"aria-multiselectable",0]],null,null,i.K,i.a)),l["\u0275did"](18,2146304,null,1,p.b,[p.c],{activeIds:[0,"activeIds"]},null),l["\u0275qud"](603979776,1,{panels:1}),(e()(),l["\u0275eld"](20,0,null,null,7,"ta-panel",[["id","assessment-table"]],null,null,null,null,null)),l["\u0275did"](21,2113536,[[1,4]],2,p.L,[],{id:[0,"id"]},null),l["\u0275qud"](603979776,2,{titleTpls:1}),l["\u0275qud"](603979776,3,{contentTpls:1}),(e()(),l["\u0275and"](0,null,null,1,null,Se)),l["\u0275did"](25,16384,[[2,4]],0,p.N,[l.TemplateRef],null,null),(e()(),l["\u0275and"](0,null,null,1,null,Ie)),l["\u0275did"](27,16384,[[3,4]],0,p.M,[l.TemplateRef],null,null),(e()(),l["\u0275eld"](28,0,null,null,11,"div",[["class","review-step-section-container p-2 pt-0"]],null,null,null,null,null)),(e()(),l["\u0275eld"](29,0,null,null,1,"div",[["class","sub-heading mb-2 mt-0"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" Update the status for this business process. "])),(e()(),l["\u0275eld"](31,0,null,null,1,"div",[["class","align-text-bottom"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Status"])),(e()(),l["\u0275eld"](33,0,null,null,6,"div",[["class","w-50"]],null,null,null,null,null)),(e()(),l["\u0275eld"](34,0,null,null,5,"ta-dropdown-field",[["class","d-block wp-100 mt-2"],["data-cy","business-process-status"],["formControlName","status"],["optionLabel","name"]],[[2,"multiple-value-dropdown",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,de.b,de.a)),l["\u0275did"](35,49152,null,0,pe.a,[],{optionLabel:[0,"optionLabel"],options:[1,"options"],selectedOption:[2,"selectedOption"]},null),l["\u0275prd"](1024,null,R.o,(function(e){return[e]}),[pe.a]),l["\u0275did"](37,671744,null,0,R.i,[[3,R.b],[8,null],[8,null],[6,R.o],[2,R.z]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,R.p,null,[R.i]),l["\u0275did"](39,16384,null,0,R.q,[[4,R.p]],null,null)],(function(e,n){var t=n.component;e(n,2,0,t.stepFinalReviewForm),e(n,18,0,"assessment-table"),e(n,21,0,"assessment-table"),e(n,35,0,"name",t.bpStatuses,t.stepFinalReviewForm.get("status").value),e(n,37,0,"status")}),(function(e,n){e(n,0,0,l["\u0275nov"](n,4).ngClassUntouched,l["\u0275nov"](n,4).ngClassTouched,l["\u0275nov"](n,4).ngClassPristine,l["\u0275nov"](n,4).ngClassDirty,l["\u0275nov"](n,4).ngClassValid,l["\u0275nov"](n,4).ngClassInvalid,l["\u0275nov"](n,4).ngClassPending),e(n,17,0,!l["\u0275nov"](n,18).closeOtherPanels),e(n,34,0,l["\u0275nov"](n,35).isMultiple,l["\u0275nov"](n,39).ngClassUntouched,l["\u0275nov"](n,39).ngClassTouched,l["\u0275nov"](n,39).ngClassPristine,l["\u0275nov"](n,39).ngClassDirty,l["\u0275nov"](n,39).ngClassValid,l["\u0275nov"](n,39).ngClassInvalid,l["\u0275nov"](n,39).ngClassPending)}))}function Pe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"ta-step-final-review",[],null,null,null,ke,Re)),l["\u0275did"](1,245760,null,0,Ce,[D,R.f,g.n,g.a,we,p.Db,L.a,S.b],null,null)],(function(e,n){e(n,1,0)}),null)}var De=l["\u0275ccf"]("ta-step-final-review",Ce,Pe,{},{},[]),Fe=t("q05c"),Ee=t("A7o+"),Be=t("bbFK"),Te=t("VkSW"),Oe=t("imvL"),Ne=t("39qw"),_e=t("7S2b"),je=t("YTTk"),Le=t("87pa"),$e=t("JGws"),Ve=t("sU9O"),ze=t("Sjbp"),Ae=t("1idO"),Ue=t("PlHd"),Me=t("KZui"),We=t("IRfE"),qe=t("GoJX"),He=t("LV1M"),Ke=t("YPog"),Je=t("iq6R"),Ge=t("Oj96"),Qe=t("AToc"),Ye=t("/6ch"),Ze=(t("h15D"),function(){return function(){}}()),Xe=t("UgFf"),en=t("PW+A"),nn=t("vUL0"),tn=t("Hp6d"),ln=t("wuE9"),an=t("wCrf"),on=t("K2xx"),sn=t("4pma"),rn=function(){return function(){}}(),un=function(){return function(){}}(),cn=function(){return function(){}}();t.d(n,"ReviewBusinessProcessesModuleNgFactory",(function(){return dn}));var dn=l["\u0275cmf"](a,[],(function(e){return l["\u0275mod"]([l["\u0275mpd"](512,l.ComponentFactoryResolver,l["\u0275CodegenComponentFactoryResolver"],[[8,[i.Bb,i.Kb,i.rb,i.pb,i.Eb,i.Mb,i.Pb,i.J,i.xb,i.I,i.Ab,i.tb,i.zb,i.ub,i.yb,i.wb,i.sb,i.vb,o.a,s.a,r.a,u.a,i.Sb,c.a,d.a,K,De,i.Gb,i.Cb,i.Db,i.H]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l["\u0275mpd"](4608,b.NgLocalization,b.NgLocaleLocalization,[l.LOCALE_ID,[2,b["\u0275angular_packages_common_common_a"]]]),l["\u0275mpd"](4608,R.f,R.f,[]),l["\u0275mpd"](4608,R.y,R.y,[]),l["\u0275mpd"](4608,Fe.a,Fe.a,[w.a,R.f,p.Db,Ee.j]),l["\u0275mpd"](4608,p.Cb,p.Cb,[]),l["\u0275mpd"](4608,he.r,he.r,[]),l["\u0275mpd"](6144,he.n,null,[he.r]),l["\u0275mpd"](4608,he.j,he.j,[he.n]),l["\u0275mpd"](6144,he.b,null,[he.j]),l["\u0275mpd"](4608,he.g,he.o,[he.b,l.Injector]),l["\u0275mpd"](4608,he.c,he.c,[he.g]),l["\u0275mpd"](4608,Be.a,Be.a,[he.c]),l["\u0275mpd"](4608,he.k,he.u,[b.DOCUMENT,l.PLATFORM_ID,he.s]),l["\u0275mpd"](4608,he.v,he.v,[he.k,he.t]),l["\u0275mpd"](5120,he.a,(function(e,n){return[e,new Te.a(n)]}),[he.v,Oe.a]),l["\u0275mpd"](4608,V,V,[g.n,h.a,j.a,L.a]),l["\u0275mpd"](4608,D,D,[]),l["\u0275mpd"](135680,Ce,Ce,[D,R.f,g.n,g.a,we,p.Db,L.a,S.b]),l["\u0275mpd"](4608,Ne.a,Ne.a,[]),l["\u0275mpd"](4608,_e.a,_e.a,[]),l["\u0275mpd"](4608,p.E,p.E,[l.ComponentFactoryResolver,l.Injector,p.Wb,p.F]),l["\u0275mpd"](1073742336,b.CommonModule,b.CommonModule,[]),l["\u0275mpd"](1073742336,p.eb,p.eb,[]),l["\u0275mpd"](1073742336,p.i,p.i,[]),l["\u0275mpd"](1073742336,p.k,p.k,[]),l["\u0275mpd"](1073742336,p.A,p.A,[]),l["\u0275mpd"](1073742336,p.ob,p.ob,[]),l["\u0275mpd"](1073742336,je.VirtualScrollerModule,je.VirtualScrollerModule,[]),l["\u0275mpd"](1073742336,p.yb,p.yb,[]),l["\u0275mpd"](1073742336,Le.a,Le.a,[]),l["\u0275mpd"](1073742336,$e.a,$e.a,[]),l["\u0275mpd"](1073742336,R.w,R.w,[]),l["\u0275mpd"](1073742336,R.u,R.u,[]),l["\u0275mpd"](1073742336,Ve.b,Ve.b,[]),l["\u0275mpd"](1073742336,ze.a,ze.a,[]),l["\u0275mpd"](1073742336,R.m,R.m,[]),l["\u0275mpd"](1073742336,p.p,p.p,[]),l["\u0275mpd"](1073742336,p.D,p.D,[]),l["\u0275mpd"](1073742336,p.C,p.C,[]),l["\u0275mpd"](1073742336,p.kb,p.kb,[]),l["\u0275mpd"](1073742336,Ae.a,Ae.a,[]),l["\u0275mpd"](1073742336,Ue.a,Ue.a,[]),l["\u0275mpd"](1073742336,Me.a,Me.a,[]),l["\u0275mpd"](1073742336,We.a,We.a,[]),l["\u0275mpd"](1073742336,qe.a,qe.a,[]),l["\u0275mpd"](1073742336,He.a,He.a,[]),l["\u0275mpd"](1073742336,Ke.a,Ke.a,[]),l["\u0275mpd"](1073742336,he.f,he.f,[]),l["\u0275mpd"](1073742336,he.e,he.e,[]),l["\u0275mpd"](1073742336,Je.a,Je.a,[]),l["\u0275mpd"](1073742336,Ge.a,Ge.a,[]),l["\u0275mpd"](1073742336,p.Q,p.Q,[]),l["\u0275mpd"](1073742336,Qe.a,Qe.a,[]),l["\u0275mpd"](1073742336,Ye.a,Ye.a,[]),l["\u0275mpd"](1073742336,S.a,S.a,[]),l["\u0275mpd"](1073742336,g.q,g.q,[[2,g.w],[2,g.n]]),l["\u0275mpd"](1073742336,Ze,Ze,[]),l["\u0275mpd"](1073742336,p.nb,p.nb,[]),l["\u0275mpd"](1073742336,p.vb,p.vb,[]),l["\u0275mpd"](1073742336,Xe.a,Xe.a,[]),l["\u0275mpd"](1073742336,en.a,en.a,[]),l["\u0275mpd"](1073742336,nn.a,nn.a,[]),l["\u0275mpd"](1073742336,tn.a,tn.a,[]),l["\u0275mpd"](1073742336,ln.a,ln.a,[]),l["\u0275mpd"](1073742336,an.a,an.a,[]),l["\u0275mpd"](1073742336,on.a,on.a,[]),l["\u0275mpd"](1073742336,sn.a,sn.a,[]),l["\u0275mpd"](1073742336,p.d,p.d,[]),l["\u0275mpd"](1073742336,p.G,p.G,[]),l["\u0275mpd"](1073742336,p.T,p.T,[]),l["\u0275mpd"](1073742336,p.K,p.K,[]),l["\u0275mpd"](1073742336,rn,rn,[]),l["\u0275mpd"](1073742336,un,un,[]),l["\u0275mpd"](1073742336,cn,cn,[]),l["\u0275mpd"](1073742336,p.cb,p.cb,[]),l["\u0275mpd"](1073742336,a,a,[]),l["\u0275mpd"](256,he.s,"XSRF-TOKEN",[]),l["\u0275mpd"](256,he.t,"X-XSRF-TOKEN",[]),l["\u0275mpd"](1024,g.l,(function(){return[[{path:"",component:V,children:[{path:"review",component:Ce,canDeactivate:[Ce],data:{title:"Review",header:!0,aaaNavLink:"Business Processes"}}]}]]}),[])])}))},fA5a:function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));var l=function(){function e(){}return e.prototype.transform=function(e,n,t){if(!n||!n.length)return e;var l=[],a=n.toLowerCase().trim()||"";return e.forEach((function(e){var n=t?e[t]:e.tag;-1!==(n?n.toLowerCase().trim():"").indexOf(a)&&l.push(e)})),l},e}()}}]);