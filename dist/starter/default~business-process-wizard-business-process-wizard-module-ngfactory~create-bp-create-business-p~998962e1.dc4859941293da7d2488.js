(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"1pUY":function(n,l,e){"use strict";e.d(l,"a",(function(){return h}));var t=e("mrSG"),i=e("CcnG"),o=e("gIcY"),u=e("4uUY"),r=e("K9Ia"),a=e("F/XL"),c=e("vubp"),s=e("Gi3i"),d=e("ad02"),p=e("psW0"),g=e("xMyE"),f=(e("bbFK"),e("fTqk")),h=(e("biaL"),function(){function n(n,l,e,t){var o=this;this.controlContainer=n,this.formBuilder=l,this.tagsSelectorService=e,this.userService=t,this.selectedTagsChange=new i.EventEmitter,this.endOfListReached=!1,this.currentUserPage=0,this.loadingList=!1,this.userBuffer=33,this.lastEndIndex=0,this.isLoadingTags=!1,this.currentSearchTerm="",this.thereAreTagsBP=!1,this.preselectedTags=[],this.lastElementPlacementTop=!1,this.allTags=[],this.selectedTags=[],this.userTags=[],this.searchTextChanged=new r.a,this.tagGroupFormArray=this.formBuilder.array([]),this.tagGroupFormArray.valueChanges.subscribe((function(n){var l=o.extractTagsFromFormControls();o.selectedTagsChange.emit(l)}))}return Object.defineProperty(n.prototype,"baseDomainId",{get:function(){return this._baseDomainId},set:function(n){this._baseDomainId=n,this._baseDomainId&&!this.isLoadingTags&&this.getSelectedTags().subscribe()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"baseDomainType",{get:function(){return this._baseDomainType},set:function(n){this._baseDomainType=n,this.thereAreTagsBP||this.getTags().subscribe()},enumerable:!0,configurable:!0}),n.prototype.debounceSearch=function(n){this.searchTextChanged.next(n)},n.prototype.ngOnInit=function(){var n=this;this.isLoadingTags||this.getSelectedTags().pipe(Object(c.a)(1500)).subscribe((function(){return n.updateFormFields()})),this._getSearchedUsersSubscription$=this.searchTextChanged.pipe(Object(s.a)(1e3),Object(d.a)(),Object(p.b)((function(l){return n.searchUsers(l,0)}))).subscribe((function(l){var e=l.content||[];n.userTags=n.updateUserOptionsListWithResponse(e),n.loadingList=!1,e.length<100&&(n.endOfListReached=!0)})),this.tagGroupFormGroup=this.controlContainer.control,this.tagGroupFormGroup.registerControl("tagGroupFormArray",this.tagGroupFormArray),this.debounceSearch("")},n.prototype.ngOnDestroy=function(){},n.prototype.updateFormFields=function(){var n=this;this.createFormBasedOnTagGroups(this.allTags),this.moveSelectedTagsIntoFormControls(_.cloneDeep(this.selectedTags)),this.tagGroupFormArray.value.length&&this.tagGroupFormArray.value.forEach((function(l){Array.isArray(l.selected)&&n.setSelection(l.selected,l.values)}))},n.prototype.getTags=function(){var n=this;return this.tagsSelectorService.getAllTags(this.baseDomainType,!0).pipe(Object(g.a)((function(l){n.allTags=l,n.updateFormFields()})))},n.prototype.getSelectedTags=function(){var n=this;return void 0===this.baseDomainId?(this.preselectedTags.length>0&&(this.selectedTags=this.preselectedTags,this.selectedTagsChange.emit(this.selectedTags),this.updateFormFields()),Object(a.a)([])):(this.isLoadingTags=!0,this.tagsSelectorService.getSelectedTags(this.baseDomainId).pipe(Object(g.a)((function(l){n.selectedTags=l,n.selectedTagsChange.emit(n.selectedTags),n.updateFormFields(),n.isLoadingTags=!1}))))},n.prototype.moveSelectedTagsIntoFormControls=function(n){var l=this.tagGroupFormArray;n.forEach((function(n){var e;for(e=0;e<l.length;e++){var t=l.at(e).value;if(t.id===n.id){var i="SELECTABLE"===t.tagGroupType||"USER"===t.tagGroupType;i&&!t.multipleValuesAllowed?l.at(e).patchValue({selected:n.values[0]}):i&&t.multipleValuesAllowed?l.at(e).patchValue({selected:n.values}):"TEXT"===t.tagGroupType&&l.at(e).patchValue({selected:n.values[0].tag})}}}))},n.prototype.extractTagsFromFormControls=function(){var n=[];return this.tagGroupFormArray.getRawValue().forEach((function(l){var e="SELECTABLE"===l.tagGroupType||"USER"===l.tagGroupType;if(e&&l.multipleValuesAllowed&&l.selected&&l.selected.length>0)n.push({id:l.id,tagGroupType:l.tagGroupType,values:l.selected});else if(e&&!l.multipleValuesAllowed&&l.selected&&l.selected.id){var t=l.selected;n.push({id:l.id,tagGroupType:l.tagGroupType,values:[{id:t.id,tag:t.tag,externalId:t.externalId}]})}else if("TEXT"===l.tagGroupType&&!l.multipleValuesAllowed){var i=l.selected;i&&i.length>0&&n.push({id:l.id,tagGroupType:l.tagGroupType,values:[{id:i,tag:i}]})}})),this.selectedTags.map((function(l){if(!n.find((function(n){return n.id===l.id}))){var e=_.cloneDeep(l);e.values=[],n.push(e)}})),n},n.prototype.createFormBasedOnTagGroups=function(n){var l=this,e=(n=n||[]).map((function(n){var e;e="TEXT"===n.tagGroupType?new o.g("",o.v.maxLength(255)):n.multipleValuesAllowed?[]:null;var t=!1;return n.values.forEach((function(n){n&&n.children&&n.children.length&&(t=!0)})),Object(u.b)(l.formBuilder,{tagGroupName:n.tagGroupName,id:n.id,tagGroupType:n.tagGroupType,multipleValuesAllowed:n.multipleValuesAllowed,values:n.values,selected:e,hasChildren:t})}));Object(u.d)(this.tagGroupFormArray,e)},n.prototype.setSelection=function(n,l){n.forEach((function(n){var e=function(l){l.forEach((function(l){l.id===n.id&&(l.selected=!0),l.values&&l.values.length&&e(l.values),l.children&&l.children.length&&e(l.children)}))};e(l)}))},n.prototype.requestForInfiniteList=function(n){var l=this,e=n.endIndex,t=e&&e>=this.userTags.length-this.userBuffer&&e>=this.lastEndIndex;this.lastEndIndex=e,!t||this.endOfListReached||-1===e||this.loadingList||(this.currentUserPage++,this.searchUsers(this.currentSearchTerm,this.currentUserPage).subscribe((function(n){l.userTags=l.userTags.concat(l.updateUserOptionsListWithResponse(n.content)),l.loadingList=!1,l.endOfListReached=n.last})))},n.prototype.searchUsers=function(n,l){return""!==n||l||(this.lastEndIndex=0,this.endOfListReached=!1),this.loadingList=!0,this.currentSearchTerm=n,this.currentUserPage=l||0,this.userService.getUsersResponse(n,this.currentUserPage)},n.prototype.updateUserOptionsListWithResponse=function(n){return n.map((function(n){return{id:n.id,tag:n.name+" - "+n.email}})).sort((function(n,l){return n.tag.toLowerCase()<l.tag.toLowerCase()?-1:1}))},n.prototype.isChanged=function(){var n=this.extractTagsFromFormControls(),l=this.selectedTags;return n.length!==l.length||0!==n.length&&!n.every((function(n,e){var t=l[e],i=t.values.length===n.values.length,o=n.values.every((function(n,l){return _.isEqual(n,t.values[l])}));return i&&o}))},n.prototype.save=function(){return this.isChanged()?this.tagsSelectorService.updateTags(this.baseDomainId,this.extractTagsFromFormControls()):Object(a.a)({})},Object(t.b)([Object(f.a)(["_getSearchedUsersSubscription$"])],n)}())},"4pma":function(n,l,e){"use strict";e.d(l,"a",(function(){return t}));var t=function(){return function(){}}()},"7S2b":function(n,l,e){"use strict";e.d(l,"a",(function(){return i}));var t=e("K9Ia"),i=function(){return function(){this.aside$=new t.a}}()},"9pHD":function(n,l,e){"use strict";e.d(l,"a",(function(){return t}));var t=function(){function n(){this.currentFormValidity=!1}return n.prototype.ngOnInit=function(){},n}()},GoJX:function(n,l,e){"use strict";e.d(l,"a",(function(){return t}));var t=function(){return function(){}}()},JPCe:function(n,l,e){"use strict";var t=e("CcnG"),i=e("Ip0R");e("9pHD"),e.d(l,"a",(function(){return o})),e.d(l,"b",(function(){return r}));var o=t["\u0275crt"]({encapsulation:2,styles:[[".card{box-shadow:0 1px 4px 0 rgba(0,0,0,.15)}.card .card-header{font-size:.875rem}button,input,textarea{outline:0!important;box-shadow:none!important}strong{font-weight:500}input::-ms-clear{display:none;width:0;height:0}input::-ms-reveal{display:none;width:0;height:0}input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none}#main-container.platform-nav-collapsed ta-page-footer-nav{width:calc(100% - 60px)}#main-container.platform-nav-expanded ta-page-footer-nav{width:calc(100% - 224px)}ta-page-footer-nav{padding:1rem;background-color:#fff;border-top:1px solid #f1f1f1;transition:width .2s ease-out 0s;bottom:0;display:block;height:72px;right:0;position:fixed;z-index:10}ta-page-footer-nav .stepper{top:2px;right:0;bottom:0;left:0;width:80px}ta-page-footer-nav .nav-buttons div{display:inline}"]],data:{}});function u(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","text-danger mr-2"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" One or more fields need attention "]))],null,null)}function r(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,11,"div",[["class","d-flex justify-content-between position-relative"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"div",[],null,null,null,null,null)),t["\u0275ncd"](null,0),(n()(),t["\u0275eld"](3,0,null,null,1,"div",[["class","stepper mx-auto position-absolute d-flex justify-content-center align-items-center text-center"]],null,null,null,null,null)),t["\u0275ncd"](null,1),(n()(),t["\u0275eld"](5,0,null,null,6,"div",[["class","d-flex nav-buttons"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,u)),t["\u0275did"](7,16384,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](8,0,null,null,3,"div",[],null,null,null,null,null)),t["\u0275ncd"](null,2),t["\u0275ncd"](null,3),t["\u0275ncd"](null,4)],(function(n,l){n(l,7,0,!l.component.currentFormValidity)}),null)}},KKxe:function(n,l,e){"use strict";var t=e("CcnG"),i=e("Cr54"),o=e("/KSa"),u=e("gIcY"),r=e("Ip0R"),a=e("tr7A"),c=e("1ut8"),s=e("fA5a"),d=function(){function n(){}return n.prototype.transform=function(n,l,e){return void 0===n&&(n=[]),e||l&&(n=n.filter((function(n){return n.id!==l.id}))),n},n}(),p=function(){function n(){this.isMultiSelect=!1,this.selectAllCheckedStatus=!0,this.selectAllIndeterminate=!1,this.dropdownHierarchyView=!1,this.dropdownHierarchyTitle="",this.dropdownHierarchyList={},this.dropdownHierarchyFlatTree=[],this.dropdownHierarchySearchFilter="",this.dropdownActiveOptions=[]}return n.prototype.ngOnInit=function(){if(this.isMultiSelect){var n=this.tagGroupForm.get("selected").value,l=this.tagGroupForm.get("values").value;n.forEach((function(n){l.forEach((function(l){l.tag===n.tag&&(l.selected=!0)}))})),this.dropdownActiveOptions=l,this.selectAllCheckedStatus=this.isFullSelection(),this.selectAllIndeterminate=this.isIndeterminateSelection()}},n.prototype.getActiveSelectionCount=function(){return this.dropdownActiveOptions.filter((function(n){return n.selected})).length},n.prototype.onDropdownHierarchySearch=function(n){this.dropdownHierarchySearchFilter=n},n.prototype.handleNoneSelection=function(){this.isMultiSelect||(this.tagGroupForm.get("selected").setValue([]),this.dropdownHierarchyRef.close())},n.prototype.isFullSelection=function(){var n=this.dropdownActiveOptions.length,l=this.dropdownActiveOptions.filter((function(n){return n.selected}));return!(!l.length||n!==l.length)},n.prototype.isIndeterminateSelection=function(){var n=this.dropdownActiveOptions.filter((function(n){return n.selected}));return!(!n.length||this.dropdownActiveOptions.length===n.length)},n.prototype.handleSelectAll=function(n){var l=this,e=n.target.checked;this.dropdownHierarchySearchFilter="",l.dropdownActiveOptions.forEach(e?function(t){t.selected=!0,e&&l.handleDropdownHierarchyChange(n,t,l.tagGroupForm)}:function(n){n.selected=!1,l.removeTagFromSelection(n,l.tagGroupForm)})},n.prototype.handleCheckbox=function(n,l){this.selectAllIndeterminate=!0;var e=n.target.checked;l.selected=e,this.dropdownActiveOptions.filter((function(n){return n.id===l.id})).forEach((function(n){n.selected=e})),e?this.handleDropdownHierarchyChange(n,l,this.tagGroupForm):this.removeTagFromSelection(l,this.tagGroupForm)},n.prototype.handleDropdownHierarchyChange=function(n,l,e){e&&l.selectable&&(n.preventDefault(),n.stopPropagation(),this.isMultiSelect||(this.dropdownHierarchyRef.close(),this.dropdownHierarchyView=!1,this.dropdownHierarchyFlatTree=[],this.dropdownHierarchySearchFilter=""),this.isMultiSelect?function(){if(!e.get("selected").value.some((function(n){return n.id===l.id}))){var n=e.get("selected").value;n.push(l),e.get("selected").setValue(n)}}():e.get("selected").setValue(l))},n.prototype.removeTagFromSelection=function(n,l){if(l){var e=l.get("selected").value.filter((function(l){return l.id!==n.id}));l.controls.selected.setValue(e),_.map(this.dropdownActiveOptions,(function(l){l.id===n.id&&(l.selected=!1)}))}},n.prototype.navigateDropdownHierarchy=function(n,l){var e=this;void 0===l&&(l="down"),"down"===l?(e.dropdownHierarchyView=!0,e.dropdownHierarchyParent=n,e.dropdownHierarchyTitle=n.tag,e.dropdownHierarchyList=n.children,e.dropdownActiveOptions=n.children,e.dropdownHierarchyFlatTree.push(n),_.find(e.dropdownHierarchyFlatTree,{id:n.id})||e.dropdownHierarchyFlatTree.push(n)):e.dropdownHierarchyParent.parentTagValueId?e.dropdownHierarchyFlatTree.forEach((function(n,l){n.id===e.dropdownHierarchyParent.parentTagValueId&&(e.dropdownHierarchyTitle=n.tag,e.dropdownHierarchyList=n.children,e.dropdownActiveOptions=n.children,e.dropdownHierarchyParent=n)})):(e.dropdownHierarchyView=!1,e.dropdownHierarchyFlatTree=[],e.dropdownHierarchySearchFilter="",e.dropdownActiveOptions=e.tagGroupForm.get("values").value)},n}(),g=t["\u0275crt"]({encapsulation:2,styles:[[".card{box-shadow:0 1px 4px 0 rgba(0,0,0,.15)}.card .card-header{font-size:.875rem}button,input,textarea{outline:0!important;box-shadow:none!important}strong{font-weight:500}input::-ms-clear{display:none;width:0;height:0}input::-ms-reveal{display:none;width:0;height:0}input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none}.ta-dropdown-hierarchy{font-size:.875rem}.ta-dropdown-hierarchy .dropdown-item{cursor:pointer}.ta-dropdown-hierarchy i{cursor:pointer;display:inline;font-size:.875rem}.ta-dropdown-hierarchy .ta-dropdown-hierarchy-title{padding:2px 7px;border-bottom:1px solid #ddd}.ta-dropdown-hierarchy .ta-dropdown-hierarchy-title p{text-transform:uppercase;font-weight:700;color:#777;margin:0;padding:0 0 5px 12px;display:inline-block}.ta-dropdown-hierarchy .ta-dropdown-hierarchy-btn-toggle{min-height:32px;width:100%}.ta-dropdown-hierarchy .ta-chevron-down{color:#ddd!important}.ta-dropdown-hierarchy .ta-chevron-left{margin-top:2px;float:left;font-size:1rem;color:#00b4dd}"]],data:{}});function f(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,"button",[["aria-haspopup","true"],["class","ta-dropdown-hierarchy-btn-toggle dropdown-toggle"],["taButton",""],["taDropdownToggle",""],["taType","dropdown"],["type","button"]],[[1,"aria-expanded",0],[8,"className",0]],[[null,"click"],[null,"focus"],[null,"mouseleave"]],(function(n,l,e){var i=!0;return"click"===l&&(i=!1!==t["\u0275nov"](n,1).toggleOpen()&&i),"focus"===l&&(i=!1!==t["\u0275nov"](n,2).onMouseEnter()&&i),"mouseleave"===l&&(i=!1!==t["\u0275nov"](n,2).onMouseLeave()&&i),i}),a.U,a.k)),t["\u0275did"](1,16384,null,0,c.xc,[c.y,t.ElementRef],null,null),t["\u0275did"](2,573440,null,0,c.Eb,[t.ElementRef],{taType:[0,"taType"]},null),t["\u0275prd"](2048,[[3,4]],c.wc,null,[c.xc]),(n()(),t["\u0275ted"](4,0,[" "," "]))],(function(n,l){n(l,2,0,"dropdown")}),(function(n,l){var e=l.component;n(l,0,0,t["\u0275nov"](l,1).dropdown.isOpen(),t["\u0275nov"](l,2).className),n(l,4,0,e.isMultiSelect?"":null==e.tagGroupForm.get("selected").value?null:e.tagGroupForm.get("selected").value.tag)}))}function h(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"ta-tags",[["class","dropdown-hierarchy-multi-tags"]],[[1,"class",0],[2,"hide",null]],[[null,"onClose"]],(function(n,l,e){var t=!0,i=n.component;return"onClose"===l&&(t=!1!==i.removeTagFromSelection(n.context.$implicit,i.tagGroupForm)&&t),t}),a.V,a.l)),t["\u0275did"](1,49152,null,0,c.Hb,[t.ElementRef],{class:[0,"class"],showClose:[1,"showClose"]},{onClose:"onClose"}),(n()(),t["\u0275ted"](2,0,[" "," "]))],(function(n,l){n(l,1,0,"dropdown-hierarchy-multi-tags",!0)}),(function(n,l){n(l,0,0,"ta-tags"+(t["\u0275nov"](l,1).theme?" "+t["\u0275nov"](l,1).theme:"")+(t["\u0275nov"](l,1).class?" "+t["\u0275nov"](l,1).class:"")+(t["\u0275nov"](l,1).showClose?" tag-close":""),t["\u0275nov"](l,1).isHide),n(l,2,0,l.context.$implicit.tag)}))}function m(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"div",[["aria-haspopup","true"],["class","w-100 dropdown-toggle"],["taButton",""],["taDropdownToggle",""],["taType","tags"]],[[1,"aria-expanded",0],[8,"className",0]],[[null,"click"],[null,"focus"],[null,"mouseleave"]],(function(n,l,e){var i=!0;return"click"===l&&(i=!1!==t["\u0275nov"](n,1).toggleOpen()&&i),"focus"===l&&(i=!1!==t["\u0275nov"](n,2).onMouseEnter()&&i),"mouseleave"===l&&(i=!1!==t["\u0275nov"](n,2).onMouseLeave()&&i),i}),a.U,a.k)),t["\u0275did"](1,16384,null,0,c.xc,[c.y,t.ElementRef],null,null),t["\u0275did"](2,573440,null,0,c.Eb,[t.ElementRef],{taType:[0,"taType"]},null),t["\u0275prd"](2048,[[3,4]],c.wc,null,[c.xc]),(n()(),t["\u0275and"](16777216,null,0,1,null,h)),t["\u0275did"](5,278528,null,0,r.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){var e=l.component;n(l,2,0,"tags"),n(l,5,0,e.tagGroupForm.get("selected").value)}),(function(n,l){n(l,0,0,t["\u0275nov"](l,1).dropdown.isOpen(),t["\u0275nov"](l,2).className)}))}function v(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","dropdown-item d-flex"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,2,"ta-checkbox",[["class","d-flex"]],null,[[null,"change"]],(function(n,l,e){var t=!0;return"change"===l&&(t=!1!==n.component.handleSelectAll(e)&&t),t}),a.eb,a.u)),t["\u0275prd"](5120,null,u.o,(function(n){return[n]}),[c.Xb]),t["\u0275did"](3,573440,null,0,c.Xb,[t.ElementRef],{checked:[0,"checked"],indeterminate:[1,"indeterminate"]},null),(n()(),t["\u0275eld"](4,0,null,null,1,"p",[["class","m-0 p-0"]],null,null,null,null,null)),(n()(),t["\u0275ted"](5,null,[" Select All (","/",") "]))],(function(n,l){var e=l.component;n(l,3,0,e.isFullSelection(),e.isIndeterminateSelection())}),(function(n,l){var e=l.component;n(l,5,0,e.getActiveSelectionCount(),e.dropdownActiveOptions.length)}))}function w(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","dropdown-item"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.handleNoneSelection()&&t),t}),null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"p",[["class","m-0 p-0"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" None "]))],null,null)}function y(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"ta-checkbox",[["class","d-flex"]],null,[[null,"change"]],(function(n,l,e){var t=!0;return"change"===l&&(t=!1!==n.component.handleCheckbox(e,n.parent.context.$implicit)&&t),t}),a.eb,a.u)),t["\u0275prd"](5120,null,u.o,(function(n){return[n]}),[c.Xb]),t["\u0275did"](2,573440,null,0,c.Xb,[t.ElementRef],{checked:[0,"checked"]},null)],(function(n,l){n(l,2,0,l.parent.context.$implicit.selected)}),null)}function b(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"ta-icon",[["class","caret-right"],["icon","caret-right"]],[[4,"color",null],[8,"className",0]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(n.component.navigateDropdownHierarchy(n.parent.context.$implicit,"down"),t=!1!==e.stopPropagation()&&t),t}),a.db,a.t)),t["\u0275did"](1,114688,null,0,c.Rb,[],{icon:[0,"icon"],class:[1,"class"]},null)],(function(n,l){n(l,1,0,"caret-right","caret-right")}),(function(n,l){n(l,0,0,t["\u0275nov"](l,1).color,t["\u0275nov"](l,1).className)}))}function C(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,7,"div",[["class","ta-dropdown-hierarchy-menu-item d-flex"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,6,"div",[["class","dropdown-item d-flex"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,y)),t["\u0275did"](3,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](4,0,null,null,1,"p",[["class","flex-fill m-0 p-0"]],null,[[null,"click"]],(function(n,l,e){var t=!0,i=n.component;return"click"===l&&(t=!1!==(!i.isMultiSelect&&i.handleDropdownHierarchyChange(e,n.context.$implicit,i.tagGroupForm))&&t),t}),null,null)),(n()(),t["\u0275ted"](5,null,[" "," "])),(n()(),t["\u0275and"](16777216,null,null,1,null,b)),t["\u0275did"](7,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){n(l,3,0,l.component.isMultiSelect),n(l,7,0,l.context.$implicit.children.length)}),(function(n,l){n(l,5,0,l.context.$implicit.tag)}))}function x(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,17,"div",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,4,"div",[["class","ta-dropdown-hierarchy-title"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,1,"ta-icon",[["class","caret-left"],["icon","caret-left"],["style","cursor: pointer;"]],[[4,"color",null],[8,"className",0]],[[null,"click"]],(function(n,l,e){var t=!0,i=n.component;return"click"===l&&(i.navigateDropdownHierarchy(i.option,"up"),t=!1!==e.stopPropagation()&&t),t}),a.db,a.t)),t["\u0275did"](3,114688,null,0,c.Rb,[],{icon:[0,"icon"],class:[1,"class"]},null),(n()(),t["\u0275eld"](4,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),t["\u0275ted"](5,null,[" "," "])),(n()(),t["\u0275eld"](6,0,null,null,2,"div",[["class","ta-dropdown-hierarchy-searchbox"]],null,null,null,null,null)),(n()(),t["\u0275eld"](7,0,null,null,1,"ta-dropdown-search",[["class","ta-dropdown-search"]],null,[[null,"onSearch"]],(function(n,l,e){var t=!0;return"onSearch"===l&&(t=!1!==n.component.onDropdownHierarchySearch(e)&&t),t}),a.kb,a.A)),t["\u0275did"](8,638976,[[4,4]],0,c.qc,[c.vc,t.ElementRef],null,{onSearch:"onSearch"}),(n()(),t["\u0275eld"](9,0,null,null,8,"ta-dropdown-scroll",[["class","ta-dropdown-scroll"]],null,null,null,a.ob,a.E)),t["\u0275did"](10,4243456,null,0,c.uc,[c.vc,t.ElementRef,c.z],{scrollHeight:[0,"scrollHeight"]},null),(n()(),t["\u0275and"](16777216,null,0,1,null,v)),t["\u0275did"](12,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,0,1,null,w)),t["\u0275did"](14,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,0,2,null,C)),t["\u0275did"](16,278528,null,0,r.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),t["\u0275ppd"](17,2)],(function(n,l){var e=l.component;n(l,3,0,"caret-left","caret-left"),n(l,8,0),n(l,10,0,70),n(l,12,0,e.isMultiSelect),n(l,14,0,!e.isMultiSelect);var i=t["\u0275unv"](l,16,0,n(l,17,0,t["\u0275nov"](l.parent,0),e.dropdownHierarchyList,e.dropdownHierarchySearchFilter));n(l,16,0,i)}),(function(n,l){var e=l.component;n(l,2,0,t["\u0275nov"](l,3).color,t["\u0275nov"](l,3).className),n(l,5,0,e.dropdownHierarchyTitle)}))}function F(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","dropdown-item"]],null,[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.handleNoneSelection()&&t),t}),null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"p",[["class","m-0 p-0"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" None "]))],null,null)}function S(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","dropdown-item d-flex"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,2,"ta-checkbox",[["class","d-flex"]],null,[[null,"change"]],(function(n,l,e){var t=!0;return"change"===l&&(t=!1!==n.component.handleSelectAll(e)&&t),t}),a.eb,a.u)),t["\u0275prd"](5120,null,u.o,(function(n){return[n]}),[c.Xb]),t["\u0275did"](3,573440,null,0,c.Xb,[t.ElementRef],{checked:[0,"checked"],indeterminate:[1,"indeterminate"]},null),(n()(),t["\u0275eld"](4,0,null,null,1,"p",[["class","m-0 p-0"]],null,null,null,null,null)),(n()(),t["\u0275ted"](5,null,[" Select All (","/",") "]))],(function(n,l){var e=l.component;n(l,3,0,e.isFullSelection(),e.isIndeterminateSelection())}),(function(n,l){var e=l.component;n(l,5,0,e.getActiveSelectionCount(),e.dropdownActiveOptions.length)}))}function T(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"ta-checkbox",[["class","d-flex"]],null,[[null,"change"]],(function(n,l,e){var t=!0;return"change"===l&&(t=!1!==n.component.handleCheckbox(e,n.parent.context.$implicit)&&t),t}),a.eb,a.u)),t["\u0275prd"](5120,null,u.o,(function(n){return[n]}),[c.Xb]),t["\u0275did"](2,573440,null,0,c.Xb,[t.ElementRef],{checked:[0,"checked"]},null)],(function(n,l){n(l,2,0,l.parent.context.$implicit.selected)}),null)}function O(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"ta-icon",[["class","caret-right"],["icon","caret-right"]],[[4,"color",null],[8,"className",0]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(n.component.navigateDropdownHierarchy(n.parent.context.$implicit,"down"),t=!1!==e.stopPropagation()&&t),t}),a.db,a.t)),t["\u0275did"](1,114688,null,0,c.Rb,[],{icon:[0,"icon"],class:[1,"class"]},null)],(function(n,l){n(l,1,0,"caret-right","caret-right")}),(function(n,l){n(l,0,0,t["\u0275nov"](l,1).color,t["\u0275nov"](l,1).className)}))}function I(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,7,"div",[["class","ta-dropdown-hierarchy-menu-item d-flex"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,6,"div",[["class","dropdown-item d-flex"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,T)),t["\u0275did"](3,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](4,0,null,null,1,"p",[["class","flex-fill m-0 p-0"]],null,[[null,"click"]],(function(n,l,e){var t=!0,i=n.component;return"click"===l&&(t=!1!==(!i.isMultiSelect&&i.handleDropdownHierarchyChange(e,n.context.$implicit,i.tagGroupForm))&&t),t}),null,null)),(n()(),t["\u0275ted"](5,null,[" "," "])),(n()(),t["\u0275and"](16777216,null,null,1,null,O)),t["\u0275did"](7,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){n(l,3,0,l.component.isMultiSelect),n(l,7,0,l.context.$implicit.children.length)}),(function(n,l){n(l,5,0,l.context.$implicit.tag)}))}function R(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,15,"div",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","ta-dropdown-hierarchy-searchbox"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,1,"ta-dropdown-search",[["class","ta-dropdown-search"]],null,[[null,"onSearch"]],(function(n,l,e){var t=!0;return"onSearch"===l&&(t=!1!==n.component.onDropdownHierarchySearch(e)&&t),t}),a.kb,a.A)),t["\u0275did"](3,638976,[[4,4]],0,c.qc,[c.vc,t.ElementRef],null,{onSearch:"onSearch"}),(n()(),t["\u0275eld"](4,0,null,null,11,"ta-dropdown-scroll",[["class","ta-dropdown-scroll"]],null,null,null,a.ob,a.E)),t["\u0275did"](5,4243456,null,0,c.uc,[c.vc,t.ElementRef,c.z],{scrollHeight:[0,"scrollHeight"]},null),(n()(),t["\u0275eld"](6,0,null,0,2,"div",[["class","ta-dropdown-hierarchy-menu-item"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,F)),t["\u0275did"](8,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](9,0,null,0,2,"div",[["class","ta-dropdown-hierarchy-menu-item"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,S)),t["\u0275did"](11,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,0,3,null,I)),t["\u0275did"](13,278528,null,0,r.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),t["\u0275ppd"](14,3),t["\u0275ppd"](15,2)],(function(n,l){var e=l.component;n(l,3,0),n(l,5,0,70),n(l,8,0,!e.isMultiSelect),n(l,11,0,e.isMultiSelect);var i=t["\u0275unv"](l,13,0,n(l,15,0,t["\u0275nov"](l.parent,0),t["\u0275unv"](l,13,0,n(l,14,0,t["\u0275nov"](l.parent,1),e.tagGroupForm.get("values").value,e.tagGroupForm.get("selected").value,e.isMultiSelect)),e.dropdownHierarchySearchFilter));n(l,13,0,i)}),null)}function P(n){return t["\u0275vid"](0,[t["\u0275pid"](0,s.a,[]),t["\u0275pid"](0,d,[]),t["\u0275qud"](402653184,1,{dropdownHierarchyRef:0}),(n()(),t["\u0275eld"](3,0,null,null,18,"div",[["autoClose","outside"],["class","ta-dropdown-hierarchy"],["taDropdown",""]],[[2,"show",null]],null,null,a.M,a.c)),t["\u0275did"](4,245760,[[1,4],["dropdownHierarchyRef",4]],4,c.y,[t.ChangeDetectorRef,c.z,r.DOCUMENT,t.NgZone,t.ElementRef],{autoClose:[0,"autoClose"],placement:[1,"placement"]},null),t["\u0275qud"](335544320,2,{_menu:0}),t["\u0275qud"](603979776,3,{_anchor:0}),t["\u0275qud"](603979776,4,{_search:0}),t["\u0275qud"](335544320,5,{_category:0}),t["\u0275pad"](9,3),(n()(),t["\u0275and"](16777216,null,0,1,null,f)),t["\u0275did"](11,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,0,1,null,m)),t["\u0275did"](13,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](14,0,null,0,7,"div",[["aria-labelledby","dropdownBasic1"],["taDropdownMenu",""]],[[2,"dropdown-menu",null],[2,"show",null],[1,"x-placement",0]],null,null,null,null)),t["\u0275did"](15,16384,[[2,4]],1,c.vc,[c.y,t.ElementRef,t.Renderer2],null,null),t["\u0275qud"](335544320,6,{_category:0}),(n()(),t["\u0275eld"](17,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,x)),t["\u0275did"](19,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,R)),t["\u0275did"](21,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component,t=n(l,9,0,"bottom","top","auto");n(l,4,0,"outside",t),n(l,11,0,e.tagGroupForm&&!(e.isMultiSelect&&e.tagGroupForm)),n(l,13,0,e.isMultiSelect&&e.tagGroupForm),n(l,19,0,e.dropdownHierarchyView&&e.tagGroupForm),n(l,21,0,!e.dropdownHierarchyView&&e.tagGroupForm)}),(function(n,l){n(l,3,0,t["\u0275nov"](l,4).isOpen()),n(l,14,0,!0,t["\u0275nov"](l,15).dropdown.isOpen(),t["\u0275nov"](l,15).placement)}))}e("1pUY"),e("bbFK"),e("biaL"),e.d(l,"a",(function(){return k})),e.d(l,"b",(function(){return $}));var k=t["\u0275crt"]({encapsulation:0,styles:[[".card[_ngcontent-%COMP%]{box-shadow:0 1px 4px 0 rgba(0,0,0,.15)}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{font-size:.875rem}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{outline:0!important;box-shadow:none!important}strong[_ngcontent-%COMP%]{font-weight:500}input[_ngcontent-%COMP%]::-ms-clear{display:none;width:0;height:0}input[_ngcontent-%COMP%]::-ms-reveal{display:none;width:0;height:0}input[_ngcontent-%COMP%]::-webkit-search-cancel-button, input[_ngcontent-%COMP%]::-webkit-search-decoration, input[_ngcontent-%COMP%]::-webkit-search-results-button, input[_ngcontent-%COMP%]::-webkit-search-results-decoration{display:none}.ta-dropdown-hierarchy[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer;display:inline;color:#00b4dd}.ta-dropdown-hierarchy[_ngcontent-%COMP%]   .ta-dropdown-hierarchy-menu[_ngcontent-%COMP%]{padding:2px 0 0;min-height:100px;max-height:120px;overflow-y:scroll;overflow-x:hidden;width:100%}.ta-dropdown-hierarchy[_ngcontent-%COMP%]   .ta-dropdown-hierarchy-title[_ngcontent-%COMP%]{padding:2px 7px;border-bottom:1px solid #ddd}.ta-dropdown-hierarchy[_ngcontent-%COMP%]   .ta-dropdown-hierarchy-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700;color:#777;margin:0;padding:0 0 5px 12px;display:inline-block}.ta-dropdown-hierarchy[_ngcontent-%COMP%]   .ta-dropdown-hierarchy-btn-toggle[_ngcontent-%COMP%]{width:100%}"]],data:{}});function M(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,7,"div",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,6,"ta-dropdown-field",[["class","small-dropdown"],["formControlName","selected"],["optionLabel","tag"]],[[2,"multiple-value-dropdown",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"infiniteListChanged"],[null,"keyup"]],(function(n,l,e){var t=!0,i=n.component;return"infiniteListChanged"===l&&(t=!1!==i.requestForInfiniteList(e)&&t),"keyup"===l&&(t=!1!==i.debounceSearch(e.target.value)&&t),t}),i.b,i.a)),t["\u0275did"](2,49152,null,0,o.a,[],{optionLabel:[0,"optionLabel"],placement:[1,"placement"],isSearchable:[2,"isSearchable"],useInfiniteScroll:[3,"useInfiniteScroll"],autoClose:[4,"autoClose"],isMultiple:[5,"isMultiple"],options:[6,"options"],selectedOption:[7,"selectedOption"]},{infiniteListChanged:"infiniteListChanged"}),t["\u0275pad"](3,1),t["\u0275prd"](1024,null,u.o,(function(n){return[n]}),[o.a]),t["\u0275did"](5,671744,null,0,u.i,[[3,u.b],[8,null],[8,null],[6,u.o],[2,u.z]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,u.p,null,[u.i]),t["\u0275did"](7,16384,null,0,u.q,[[4,u.p]],null,null)],(function(n,l){var e=l.component,t=e.lastElementPlacementTop&&l.parent.parent.context.index==e.tagGroupFormArray.controls.length-1?n(l,3,0,"top-left"):null,i=e.userTags,o=l.parent.parent.context.$implicit.get("selected").value;n(l,2,0,"tag",t,!0,!0,!1,!0,i,o),n(l,5,0,"selected")}),(function(n,l){n(l,1,0,t["\u0275nov"](l,2).isMultiple,t["\u0275nov"](l,7).ngClassUntouched,t["\u0275nov"](l,7).ngClassTouched,t["\u0275nov"](l,7).ngClassPristine,t["\u0275nov"](l,7).ngClassDirty,t["\u0275nov"](l,7).ngClassValid,t["\u0275nov"](l,7).ngClassInvalid,t["\u0275nov"](l,7).ngClassPending)}))}function V(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,7,"div",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,6,"ta-dropdown-field",[["class","small-dropdown"],["formControlName","selected"],["optionLabel","tag"]],[[2,"multiple-value-dropdown",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"infiniteListChanged"],[null,"keyup"]],(function(n,l,e){var t=!0,i=n.component;return"infiniteListChanged"===l&&(t=!1!==i.requestForInfiniteList(e)&&t),"keyup"===l&&(t=!1!==i.debounceSearch(e.target.value)&&t),t}),i.b,i.a)),t["\u0275did"](2,49152,null,0,o.a,[],{optionLabel:[0,"optionLabel"],placement:[1,"placement"],isSearchable:[2,"isSearchable"],emptyOption:[3,"emptyOption"],useInfiniteScroll:[4,"useInfiniteScroll"],allowUnselectItem:[5,"allowUnselectItem"],options:[6,"options"],selectedOption:[7,"selectedOption"]},{infiniteListChanged:"infiniteListChanged"}),t["\u0275pad"](3,1),t["\u0275prd"](1024,null,u.o,(function(n){return[n]}),[o.a]),t["\u0275did"](5,671744,null,0,u.i,[[3,u.b],[8,null],[8,null],[6,u.o],[2,u.z]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,u.p,null,[u.i]),t["\u0275did"](7,16384,null,0,u.q,[[4,u.p]],null,null)],(function(n,l){var e=l.component,t=e.lastElementPlacementTop&&l.parent.parent.context.index==e.tagGroupFormArray.controls.length-1?n(l,3,0,"top-left"):null,i=e.userTags,o=l.parent.parent.context.$implicit.get("selected").value;n(l,2,0,"tag",t,!0,!0,!0,!0,i,o),n(l,5,0,"selected")}),(function(n,l){n(l,1,0,t["\u0275nov"](l,2).isMultiple,t["\u0275nov"](l,7).ngClassUntouched,t["\u0275nov"](l,7).ngClassTouched,t["\u0275nov"](l,7).ngClassPristine,t["\u0275nov"](l,7).ngClassDirty,t["\u0275nov"](l,7).ngClassValid,t["\u0275nov"](l,7).ngClassInvalid,t["\u0275nov"](l,7).ngClassPending)}))}function E(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,"div",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,5,"div",[],null,null,null,null,null)),t["\u0275did"](2,16384,null,0,r.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,M)),t["\u0275did"](4,278528,null,0,r.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,r.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,V)),t["\u0275did"](6,278528,null,0,r.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,r.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(n,l){var e=l.parent.context.$implicit.get("multipleValuesAllowed").value;n(l,2,0,e),n(l,4,0,!0),n(l,6,0,!1)}),null)}function N(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"ta-dropdown-hierarchy",[],null,null,null,P,g)),t["\u0275did"](2,114688,null,0,p,[],{tagGroupForm:[0,"tagGroupForm"],isMultiSelect:[1,"isMultiSelect"]},null)],(function(n,l){n(l,2,0,l.parent.parent.parent.context.$implicit,!0)}),null)}function G(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,N)),t["\u0275did"](2,278528,null,0,r.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,r.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(n,l){n(l,2,0,!0)}),null)}function A(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,1,"ta-dropdown-hierarchy",[],null,null,null,P,g)),t["\u0275did"](2,114688,null,0,p,[],{tagGroupForm:[0,"tagGroupForm"],isMultiSelect:[1,"isMultiSelect"]},null)],(function(n,l){n(l,2,0,l.parent.parent.context.$implicit,!1)}),null)}function U(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,6,"div",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,5,"div",[],null,null,null,null,null)),t["\u0275did"](2,16384,null,0,r.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,G)),t["\u0275did"](4,278528,null,0,r.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,r.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,A)),t["\u0275did"](6,278528,null,0,r.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,r.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(n,l){var e=l.parent.context.$implicit.get("multipleValuesAllowed").value;n(l,2,0,e),n(l,4,0,!0),n(l,6,0,!1)}),null)}function D(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","text-danger text-danger-multi-sibling"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" The tag name must be less than 255 characters. "]))],null,null)}function L(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,10,"div",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,7,"input",[["class","form-control"],["formControlName","selected"],["placeholder","Enter tag value"],["type","text"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,l,e){var i=!0;return"input"===l&&(i=!1!==t["\u0275nov"](n,4)._handleInput(e.target.value)&&i),"blur"===l&&(i=!1!==t["\u0275nov"](n,4).onTouched()&&i),"compositionstart"===l&&(i=!1!==t["\u0275nov"](n,4)._compositionStart()&&i),"compositionend"===l&&(i=!1!==t["\u0275nov"](n,4)._compositionEnd(e.target.value)&&i),i}),null,null)),t["\u0275did"](2,278528,null,0,r.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](3,{"is-invalid":0}),t["\u0275did"](4,16384,null,0,u.c,[t.Renderer2,t.ElementRef,[2,u.a]],null,null),t["\u0275prd"](1024,null,u.o,(function(n){return[n]}),[u.c]),t["\u0275did"](6,671744,null,0,u.i,[[3,u.b],[8,null],[8,null],[6,u.o],[2,u.z]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,u.p,null,[u.i]),t["\u0275did"](8,16384,null,0,u.q,[[4,u.p]],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,D)),t["\u0275did"](10,16384,null,0,r.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=n(l,3,0,l.parent.context.$implicit.invalid&&l.parent.context.$implicit.touched);n(l,2,0,"form-control",e),n(l,6,0,"selected");var t=null==l.parent.context.$implicit.get("selected").errors?null:l.parent.context.$implicit.get("selected").errors.maxlength;n(l,10,0,t)}),(function(n,l){var e=t["\u0275inlineInterpolate"](1,"",l.parent.context.$implicit.get("id").value,"");n(l,1,0,e,t["\u0275nov"](l,8).ngClassUntouched,t["\u0275nov"](l,8).ngClassTouched,t["\u0275nov"](l,8).ngClassPristine,t["\u0275nov"](l,8).ngClassDirty,t["\u0275nov"](l,8).ngClassValid,t["\u0275nov"](l,8).ngClassInvalid,t["\u0275nov"](l,8).ngClassPending)}))}function H(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,13,"div",[["class","col-12 form-group mb-1"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),t["\u0275did"](1,212992,null,0,u.l,[[3,u.b],[8,null],[8,null]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,u.b,null,[u.l]),t["\u0275did"](3,16384,null,0,u.r,[[4,u.b]],null,null),(n()(),t["\u0275eld"](4,0,null,null,1,"label",[],[[8,"htmlFor",0]],null,null,null,null)),(n()(),t["\u0275ted"](5,null,["",""])),(n()(),t["\u0275eld"](6,0,null,null,7,"div",[["class","mb-2"]],null,null,null,null,null)),t["\u0275did"](7,16384,null,0,r.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,E)),t["\u0275did"](9,278528,null,0,r.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,r.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,U)),t["\u0275did"](11,278528,null,0,r.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,r.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,L)),t["\u0275did"](13,278528,null,0,r.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,r.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(n,l){n(l,1,0,l.context.index);var e=l.context.$implicit.get("tagGroupType").value;n(l,7,0,e),n(l,9,0,"USER"),n(l,11,0,"SELECTABLE"),n(l,13,0,"TEXT")}),(function(n,l){n(l,0,0,t["\u0275nov"](l,3).ngClassUntouched,t["\u0275nov"](l,3).ngClassTouched,t["\u0275nov"](l,3).ngClassPristine,t["\u0275nov"](l,3).ngClassDirty,t["\u0275nov"](l,3).ngClassValid,t["\u0275nov"](l,3).ngClassInvalid,t["\u0275nov"](l,3).ngClassPending);var e=t["\u0275inlineInterpolate"](1,"",l.context.$implicit.get("id").value,"");n(l,4,0,e);var i=l.context.$implicit.get("tagGroupName").value;n(l,5,0,i)}))}function $(n){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{dropdownHierarchyRef:0}),(n()(),t["\u0275eld"](1,0,null,null,11,"div",[["class","fadeInApp"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,10,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,l,e){var i=!0;return"submit"===l&&(i=!1!==t["\u0275nov"](n,4).onSubmit(e)&&i),"reset"===l&&(i=!1!==t["\u0275nov"](n,4).onReset()&&i),i}),null,null)),t["\u0275did"](3,16384,null,0,u.x,[],null,null),t["\u0275did"](4,540672,null,0,u.k,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,u.b,null,[u.k]),t["\u0275did"](6,16384,null,0,u.r,[[4,u.b]],null,null),(n()(),t["\u0275eld"](7,0,null,null,5,"div",[["class","row"],["formArrayName","tagGroupFormArray"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),t["\u0275did"](8,212992,null,0,u.e,[[3,u.b],[8,null],[8,null]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,u.b,null,[u.e]),t["\u0275did"](10,16384,null,0,u.r,[[4,u.b]],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,H)),t["\u0275did"](12,278528,null,0,r.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){var e=l.component;n(l,4,0,e.tagGroupFormGroup),n(l,8,0,"tagGroupFormArray"),n(l,12,0,e.tagGroupFormArray.controls)}),(function(n,l){n(l,2,0,t["\u0275nov"](l,6).ngClassUntouched,t["\u0275nov"](l,6).ngClassTouched,t["\u0275nov"](l,6).ngClassPristine,t["\u0275nov"](l,6).ngClassDirty,t["\u0275nov"](l,6).ngClassValid,t["\u0275nov"](l,6).ngClassInvalid,t["\u0275nov"](l,6).ngClassPending),n(l,7,0,t["\u0275nov"](l,10).ngClassUntouched,t["\u0275nov"](l,10).ngClassTouched,t["\u0275nov"](l,10).ngClassPristine,t["\u0275nov"](l,10).ngClassDirty,t["\u0275nov"](l,10).ngClassValid,t["\u0275nov"](l,10).ngClassInvalid,t["\u0275nov"](l,10).ngClassPending)}))}},KZui:function(n,l,e){"use strict";e.d(l,"a",(function(){return t}));var t=function(){return function(){}}()},LV1M:function(n,l,e){"use strict";e.d(l,"a",(function(){return t}));var t=function(){return function(){}}()},"PW+A":function(n,l,e){"use strict";e.d(l,"a",(function(){return t}));var t=function(){return function(){}}()},PlHd:function(n,l,e){"use strict";e.d(l,"a",(function(){return t}));var t=function(){return function(){}}()},Sjbp:function(n,l,e){"use strict";e.d(l,"a",(function(){return t}));var t=function(){return function(){}}()},Vx3I:function(n,l,e){"use strict";e.d(l,"a",(function(){return i}));var t=e("CcnG"),i=(e("tVSN"),function(){function n(n,l){this.fileUploadService=n,this.toastService=l,this.fileSelected=new t.EventEmitter,this.id="file_upload",this.fileRestriction="",this.maxFileSize=16e6,this.draggingOver=!1,this.propagateChange=function(n){}}return Object.defineProperty(n.prototype,"maxFileSizeAllowed",{get:function(){return this.maxFileSize/1e6+" MB"},enumerable:!0,configurable:!0}),n.prototype.registerOnChange=function(n){this.propagateChange=n},n.prototype.registerOnTouched=function(){},n.prototype.writeValue=function(n){n&&(this.files=n)},n.prototype.onDragOver=function(n){n.preventDefault(),this.draggingOver=!0},n.prototype.onDragLeave=function(n){n.preventDefault(),this.draggingOver=!1},n.prototype.selectFiles=function(n){var l=this;this.propagateChange(n);var e=[];Array.from(n).forEach((function(t,i){l.fileUploadService.isValidExtension(t)&&l.fileUploadService.isValidFileSize(t,l.maxFileSize)?l.fileSelected.emit(t):(e.push(n[i]),delete n[i],l.fileUploadService.isValidFileSize(t,l.maxFileSize)||l.toastService.error("Error: Files larger than "+l.maxFileSizeAllowed+" cannot be uploaded"),l.fileUploadService.isValidExtension(t)||l.toastService.error("Error: Invalid file type"))})),this.fileUploadService.addInvalidFiles(e)},n.prototype.restrictFileTypeUpload=function(n,l,e){var t=this;Object.keys(n).map((function(i){!function(n){if(n.type)return n.type===t.fileRestriction;var l=n.name.split(".")[1],e=t.fileRestriction.split("/")[1];return l.toLowerCase()===e.toLowerCase()}(n[i])?e():l()}))},n.prototype.onDrop=function(n){var l=this,e=n.dataTransfer.files;n.preventDefault(),this.onDragLeave(n),this.fileRestriction?this.restrictFileTypeUpload(e,(function(){return l.selectFiles(n.dataTransfer.files)}),(function(){return l.toastService.error("Error: Import functionality only supports .csv file format.")})):this.selectFiles(n.dataTransfer.files)},n.prototype.onFileSelected=function(n){var l=this,e=Array.from(n.target.files);this.fileRestriction?this.restrictFileTypeUpload(e,(function(){return l.selectFiles(e)}),(function(){l.fileUploadInput.nativeElement.value="",l.toastService.error("Error: Import functionality only supports .csv file format.")})):this.selectFiles(e)},n}())},WhUT:function(n,l,e){"use strict";e.d(l,"a",(function(){return i})),e("q05c");var t=e("aqxI"),i=function(){function n(n,l,e,t,i){this.controlContainer=n,this.formBuilder=l,this.toastService=e,this.modalService=t,this.baseRecordFileUploadService=i,this.fileForms=this.formBuilder.array([]),i.setFileUploadFormArray(this.fileForms)}return n.prototype.ngOnInit=function(){this.fileUploadFormGroup=this.controlContainer.control,this.fileUploadFormGroup.registerControl("fileForms",this.fileForms),this.countOfUploadedFiles=this.baseRecordFileUploadService.countOfUploadedFiles,this.countOfFilesPendingUpload=this.baseRecordFileUploadService.countOfFilesPendingUpload},n.prototype.addFileForm=function(n){this.baseRecordFileUploadService.addFileForm(n)},n.prototype.downloadFileFrom=function(n){var l=this,e=n.get("id").value,t=n.get("fileName").value;this.baseRecordFileUploadService.downloadFile(e).subscribe((function(n){window.open(n.fileUrl,"_blank")}),(function(n){l.toastService.error('Error retrieving file with filename "'+t+'"')}))},n.prototype.deleteFile=function(n,l){var e=this,i=n.value.fileName+"?",o=this.modalService.open(t.a,{ariaLabelledBy:"modal-basic-title",size:"sm"});o.componentInstance.title="Delete "+i,o.componentInstance.type="delete",o.componentInstance.icon="delete",o.componentInstance.description="You cannot undo this action.",o.componentInstance.btnLabelConfirm="Delete",o.componentInstance.confirm.subscribe((function(n){e.baseRecordFileUploadService.removeFile(l),o.close("deleted")})),o.componentInstance.cancel.subscribe((function(n){o.close("canceled")}))},n.prototype.isFileStatusVisible=function(n){return this.baseRecordFileUploadService.isFileStatusVisible(n)},n.prototype.isFileStatusPendingUpload=function(n){return this.baseRecordFileUploadService.isFileStatusPendingUpload(n)},n.prototype.isFileStatusError=function(n){return this.baseRecordFileUploadService.isFileStatusError(n)},n}()},YKkH:function(n,l,e){"use strict";var t=e("CcnG"),i=e("twgh"),o=e("gIcY"),u=e("Vx3I"),r=e("tVSN"),a=e("1ut8"),c=e("Ip0R"),s=e("tr7A");e("WhUT"),e("q05c"),e.d(l,"a",(function(){return d})),e.d(l,"b",(function(){return b}));var d=t["\u0275crt"]({encapsulation:0,styles:[[".card[_ngcontent-%COMP%]{box-shadow:0 1px 4px 0 rgba(0,0,0,.15)}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{font-size:.875rem}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{outline:0!important;box-shadow:none!important}strong[_ngcontent-%COMP%]{font-weight:500}input[_ngcontent-%COMP%]::-ms-clear{display:none;width:0;height:0}input[_ngcontent-%COMP%]::-ms-reveal{display:none;width:0;height:0}input[_ngcontent-%COMP%]::-webkit-search-cancel-button, input[_ngcontent-%COMP%]::-webkit-search-decoration, input[_ngcontent-%COMP%]::-webkit-search-results-button, input[_ngcontent-%COMP%]::-webkit-search-results-decoration{display:none}[_nghost-%COMP%]   .form-group[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .form-group[_ngcontent-%COMP%]   .remove-file[_ngcontent-%COMP%]{position:absolute;right:0}[_nghost-%COMP%]   .form-group[_ngcontent-%COMP%]   .blank-area[_ngcontent-%COMP%]{padding-top:24px;padding-bottom:24px;border:none;border-radius:4px;background-color:#fff}[_nghost-%COMP%]   .form-group[_ngcontent-%COMP%]   .blank-area[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem;color:#595959}[_nghost-%COMP%]   .form-group[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{position:relative;left:50%;color:#064676!important}"]],data:{}});function p(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,0,"span",[["aria-hidden","true"],["class","spinner-border spinner-border-sm ml-auto text-secondary"],["role","deleting"]],null,null,null,null,null))],null,null)}function g(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"ta-file-upload",[["class","d-block"],["linkText","browse files"],["text","Drag & drop your files to attach or"]],null,[[null,"fileSelected"]],(function(n,l,e){var t=!0;return"fileSelected"===l&&(t=!1!==n.component.addFileForm(e)&&t),t}),i.b,i.a)),t["\u0275prd"](5120,null,o.o,(function(n){return[n]}),[u.a]),t["\u0275did"](2,49152,null,0,u.a,[r.a,a.Db],{text:[0,"text"],linkText:[1,"linkText"]},{fileSelected:"fileSelected"})],(function(n,l){n(l,2,0,"Drag & drop your files to attach or","browse files")}),null)}function f(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,2,"span",[["class","file-attachment-summary"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[", files currently uploading (",") "])),t["\u0275pid"](131072,c.AsyncPipe,[t.ChangeDetectorRef])],null,(function(n,l){var e=l.component;n(l,1,0,t["\u0275unv"](l,1,0,t["\u0275nov"](l,2).transform(e.countOfFilesPendingUpload)))}))}function h(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","blank-area text-center"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["No Files Attached"]))],null,null)}function m(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" The comment must be less than 1024 characters. "]))],null,null)}function v(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,[" "," "]))],null,(function(n,l){var e=l.parent.parent.context.$implicit.get("errorMessage").value?l.parent.parent.context.$implicit.get("errorMessage").value:"This file could not be uploaded. Make sure this is a valid file, and less than 16MB.";n(l,1,0,e)}))}function w(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,22,"div",[["class","form-group d-block"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,19,"div",[["class","d-block"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),t["\u0275did"](2,212992,null,0,o.l,[[3,o.b],[8,null],[8,null]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,o.b,null,[o.l]),t["\u0275did"](4,16384,null,0,o.r,[[4,o.b]],null,null),(n()(),t["\u0275eld"](5,0,null,null,3,"button",[["class","remove-file"],["taButton",""],["taType","circle"],["title","Delete this file"],["type","button"]],[[8,"disabled",0],[8,"className",0]],[[null,"click"],[null,"focus"],[null,"mouseleave"]],(function(n,l,e){var i=!0,o=n.component;return"focus"===l&&(i=!1!==t["\u0275nov"](n,6).onMouseEnter()&&i),"mouseleave"===l&&(i=!1!==t["\u0275nov"](n,6).onMouseLeave()&&i),"click"===l&&(i=!1!==o.deleteFile(n.parent.context.$implicit,n.parent.context.index)&&i),i}),s.U,s.k)),t["\u0275did"](6,573440,null,0,a.Eb,[t.ElementRef],{taType:[0,"taType"]},null),(n()(),t["\u0275eld"](7,0,null,0,1,"ta-icon",[["icon","delete"]],[[4,"color",null],[8,"className",0]],null,null,s.db,s.t)),t["\u0275did"](8,114688,null,0,a.Rb,[],{icon:[0,"icon"]},null),(n()(),t["\u0275eld"](9,0,null,null,3,"span",[],null,null,null,null,null)),(n()(),t["\u0275eld"](10,0,null,null,1,"label",[["class","file-name"]],[[8,"htmlFor",0]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.downloadFileFrom(n.parent.context.$implicit)&&t),t}),null,null)),(n()(),t["\u0275ted"](11,null,["",""])),(n()(),t["\u0275ted"](12,null,[" "," "])),(n()(),t["\u0275eld"](13,0,null,null,5,"input",[["class","form-control"],["formControlName","comment"],["placeholder","Comment for this attachment..."],["type","text"]],[[8,"id",0],[8,"name",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,l,e){var i=!0;return"input"===l&&(i=!1!==t["\u0275nov"](n,14)._handleInput(e.target.value)&&i),"blur"===l&&(i=!1!==t["\u0275nov"](n,14).onTouched()&&i),"compositionstart"===l&&(i=!1!==t["\u0275nov"](n,14)._compositionStart()&&i),"compositionend"===l&&(i=!1!==t["\u0275nov"](n,14)._compositionEnd(e.target.value)&&i),i}),null,null)),t["\u0275did"](14,16384,null,0,o.c,[t.Renderer2,t.ElementRef,[2,o.a]],null,null),t["\u0275prd"](1024,null,o.o,(function(n){return[n]}),[o.c]),t["\u0275did"](16,671744,null,0,o.i,[[3,o.b],[8,null],[8,null],[6,o.o],[2,o.z]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,o.p,null,[o.i]),t["\u0275did"](18,16384,null,0,o.q,[[4,o.p]],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,m)),t["\u0275did"](20,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,v)),t["\u0275did"](22,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,2,0,l.parent.context.index),n(l,6,0,"circle"),n(l,8,0,"delete"),n(l,16,0,"comment");var t=null==l.parent.context.$implicit.get("comment").errors?null:l.parent.context.$implicit.get("comment").errors.maxlength;n(l,20,0,t),n(l,22,0,e.isFileStatusError(l.parent.context.$implicit))}),(function(n,l){var e=l.component;n(l,1,0,t["\u0275nov"](l,4).ngClassUntouched,t["\u0275nov"](l,4).ngClassTouched,t["\u0275nov"](l,4).ngClassPristine,t["\u0275nov"](l,4).ngClassDirty,t["\u0275nov"](l,4).ngClassValid,t["\u0275nov"](l,4).ngClassInvalid,t["\u0275nov"](l,4).ngClassPending),n(l,5,0,e.isFileStatusPendingUpload(l.parent.context.$implicit),t["\u0275nov"](l,6).className),n(l,7,0,t["\u0275nov"](l,8).color,t["\u0275nov"](l,8).className);var i=t["\u0275inlineInterpolate"](1,"",l.parent.context.$implicit.get("id").value,"");n(l,10,0,i);var o=l.parent.context.$implicit.get("fileName").value;n(l,11,0,o),n(l,12,0,e.isFileStatusPendingUpload(l.parent.context.$implicit)?"Uploading...":"");var u=t["\u0275inlineInterpolate"](1,"",l.parent.context.$implicit.get("id").value,""),r=t["\u0275inlineInterpolate"](1,"",l.parent.context.$implicit.get("id").value,"");n(l,13,0,u,r,t["\u0275nov"](l,18).ngClassUntouched,t["\u0275nov"](l,18).ngClassTouched,t["\u0275nov"](l,18).ngClassPristine,t["\u0275nov"](l,18).ngClassDirty,t["\u0275nov"](l,18).ngClassValid,t["\u0275nov"](l,18).ngClassInvalid,t["\u0275nov"](l,18).ngClassPending)}))}function y(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,5,null,null,null,null,null,null,null)),t["\u0275did"](1,212992,null,0,o.e,[[3,o.b],[8,null],[8,null]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,o.b,null,[o.e]),t["\u0275did"](3,16384,null,0,o.r,[[4,o.b]],null,null),(n()(),t["\u0275and"](16777216,null,null,1,null,w)),t["\u0275did"](5,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](0,null,null,0))],(function(n,l){var e=l.component;n(l,1,0,"fileForms"),n(l,5,0,e.isFileStatusVisible(l.context.$implicit))}),null)}function b(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,21,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,l,e){var i=!0;return"submit"===l&&(i=!1!==t["\u0275nov"](n,2).onSubmit(e)&&i),"reset"===l&&(i=!1!==t["\u0275nov"](n,2).onReset()&&i),i}),null,null)),t["\u0275did"](1,16384,null,0,o.x,[],null,null),t["\u0275did"](2,540672,null,0,o.k,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,o.b,null,[o.k]),t["\u0275did"](4,16384,null,0,o.r,[[4,o.b]],null,null),(n()(),t["\u0275eld"](5,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,p)),t["\u0275did"](7,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,g)),t["\u0275did"](9,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](10,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),t["\u0275eld"](11,0,null,null,2,"span",[["class","file-attachment-summary"]],null,null,null,null,null)),(n()(),t["\u0275ted"](12,null,[" Files attached to this record (",") "])),t["\u0275pid"](131072,c.AsyncPipe,[t.ChangeDetectorRef]),(n()(),t["\u0275and"](16777216,null,null,2,null,f)),t["\u0275did"](15,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,c.AsyncPipe,[t.ChangeDetectorRef]),(n()(),t["\u0275and"](16777216,null,null,2,null,h)),t["\u0275did"](18,16384,null,0,c.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275pid"](131072,c.AsyncPipe,[t.ChangeDetectorRef]),(n()(),t["\u0275and"](16777216,null,null,1,null,y)),t["\u0275did"](21,278528,null,0,c.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){var e=l.component;n(l,2,0,e.fileUploadFormGroup),n(l,7,0,e.isDeletingFile),n(l,9,0,!e.isDeletingFile),n(l,15,0,t["\u0275unv"](l,15,0,t["\u0275nov"](l,16).transform(e.countOfFilesPendingUpload))>0),n(l,18,0,0===t["\u0275unv"](l,18,0,t["\u0275nov"](l,19).transform(e.countOfUploadedFiles))),n(l,21,0,e.fileUploadFormGroup.get("fileForms").controls)}),(function(n,l){var e=l.component;n(l,0,0,t["\u0275nov"](l,4).ngClassUntouched,t["\u0275nov"](l,4).ngClassTouched,t["\u0275nov"](l,4).ngClassPristine,t["\u0275nov"](l,4).ngClassDirty,t["\u0275nov"](l,4).ngClassValid,t["\u0275nov"](l,4).ngClassInvalid,t["\u0275nov"](l,4).ngClassPending),n(l,12,0,t["\u0275unv"](l,12,0,t["\u0275nov"](l,13).transform(e.countOfUploadedFiles)))}))}},YPog:function(n,l,e){"use strict";e.d(l,"a",(function(){return t}));var t=function(){return function(){}}()},tVSN:function(n,l,e){"use strict";e.d(l,"a",(function(){return o}));var t=e("K9Ia"),i=e("CcnG"),o=function(){function n(){this.subject=new t.a}return n.prototype.addInvalidFiles=function(n){this.subject.next(n)},n.prototype.getInvalidFiles=function(){return this.subject.pipe()},n.prototype.isValidFileSize=function(n,l){return n.size<l},n.prototype.isValidExtension=function(n){return this.isJpgFile(n)||this.isPngFile(n)||this.isGifFile(n)||this.isCsvFile(n)||this.isZipFile(n)||this.isTxtFile(n)||this.isMicroSoftFile(n)||this.isRtfFile(n)||this.isPdfFile(n)||this.isCssFile(n)||this.isJsFile(n)||this.isHtmlFile(n)||this.isCodeFile(n)},n.prototype.checkFileWith=function(n,l,e){var t=e.name.split(".").pop().toLowerCase(),i=(""===e.type||0===n.length)&&l.includes(t),o=e.type&&n.includes(e.type);return i||o},n.prototype.isJpgFile=function(n){return this.checkFileWith(["image/jpeg","image/jpg","image/jp_","application/jpg","application/x-jpg","image/pjpeg","image/pipeg","image/vnd.swiftview-jpeg","image/x-xbitmap"],["jpg","jpeg"],n)},n.prototype.isPngFile=function(n){return this.checkFileWith(["image/png","application/png","application/x-png"],["png"],n)},n.prototype.isGifFile=function(n){return this.checkFileWith(["image/gif","image/x-xbitmap","image/gi_"],["gif"],n)},n.prototype.isCsvFile=function(n){return this.checkFileWith(["text/comma-separated-values","text/csv","application/csv","application/excel","application/vnd.ms-excel","application/vnd.msexcel","text/anytext"],["csv"],n)},n.prototype.isZipFile=function(n){return this.checkFileWith(["application/zip","application/x-zip","application/x-zip-compressed","application/octet-stream","application/x-compress","application/x-compressed","multipart/x-zip"],["zip"],n)},n.prototype.isTxtFile=function(n){return this.checkFileWith(["text/plain","application/txt","browser/internal","text/anytext","widetext/plain","widetext/paragraph"],["txt"],n)},n.prototype.isMicroSoftFile=function(n){return this.checkFileWith(["application/vnd.ms-excel [official]","application/msexcel","application/x-msexcel","application/x-ms-excel","application/vnd.ms-excel","application/x-excel","application/x-dos_ms_excel","application/xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/msword [official]","application/doc","appl/text","application/vnd.msword","application/vnd.ms-word","application/winword","application/word","application/x-msw6","application/x-msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-powerpoint [official]","application/mspowerpoint","application/ms-powerpoint","application/mspowerpnt","application/vnd-mspowerpoint","application/powerpoint","application/x-powerpoint","application/x-m","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/x-mspublisher"],["xsl","xlsx","doc","docx","ppt","pptx","pub","xps"],n)},n.prototype.isRtfFile=function(n){return this.checkFileWith(["application/rtf","application/x-rtf","text/rtf","text/richtext","application/msword","application/doc","application/x-soffice"],["rtf"],n)},n.prototype.isPdfFile=function(n){return this.checkFileWith(["application/pdf","application/x-pdf","application/acrobat","applications/vnd.pdf","text/pdf","text/x-pdf"],["pdf"],n)},n.prototype.isCssFile=function(n){return this.checkFileWith(["text/css","application/css-stylesheet"],["css"],n)},n.prototype.isJsFile=function(n){return this.checkFileWith(["application/x-javascript","text/javascript"],["js"],n)},n.prototype.isHtmlFile=function(n){return this.checkFileWith(["text/html","text/plain"],["html"],n)},n.prototype.isCodeFile=function(n){return this.checkFileWith([],["php","ts"],n)},n.ngInjectableDef=i.defineInjectable({factory:function(){return new n},token:n,providedIn:"root"}),n}()},twgh:function(n,l,e){"use strict";var t=e("CcnG"),i=e("Ip0R");e("gIcY"),e("Vx3I"),e("tVSN"),e("1ut8"),e.d(l,"a",(function(){return o})),e.d(l,"b",(function(){return u}));var o=t["\u0275crt"]({encapsulation:0,styles:[[".card[_ngcontent-%COMP%]{box-shadow:0 1px 4px 0 rgba(0,0,0,.15)}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{font-size:.875rem}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{outline:0!important;box-shadow:none!important}strong[_ngcontent-%COMP%]{font-weight:500}input[_ngcontent-%COMP%]::-ms-clear{display:none;width:0;height:0}input[_ngcontent-%COMP%]::-ms-reveal{display:none;width:0;height:0}input[_ngcontent-%COMP%]::-webkit-search-cancel-button, input[_ngcontent-%COMP%]::-webkit-search-decoration, input[_ngcontent-%COMP%]::-webkit-search-results-button, input[_ngcontent-%COMP%]::-webkit-search-results-decoration{display:none}#file-upload[_ngcontent-%COMP%]{border:2px dashed #c2c2c2;border-radius:4px;text-align:center;padding:20px 10px}#file-upload.dragging-over[_ngcontent-%COMP%]{background:#e6eefa;border:2px dashed rgba(0,0,0,.3)}#file-upload[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:0}#file-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}"]],data:{}});function u(n){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{fileUploadInput:0}),(n()(),t["\u0275eld"](1,0,null,null,6,"div",[["class","drop-zone"],["id","file-upload"]],null,[[null,"dragover"],[null,"dragleave"],[null,"drop"]],(function(n,l,e){var t=!0,i=n.component;return"dragover"===l&&(t=!1!==i.onDragOver(e)&&t),"dragleave"===l&&(t=!1!==i.onDragLeave(e)&&t),"drop"===l&&(t=!1!==i.onDrop(e)&&t),t}),null,null)),t["\u0275did"](2,278528,null,0,i.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](3,{"dragging-over":0}),(n()(),t["\u0275ted"](4,null,[" "," "])),(n()(),t["\u0275eld"](5,0,null,null,1,"label",[["class","link"]],[[8,"htmlFor",0]],null,null,null,null)),(n()(),t["\u0275ted"](6,null,["",""])),(n()(),t["\u0275eld"](7,0,[[1,0],["fileUploadInput",1]],null,0,"input",[["type","file"]],[[8,"id",0],[8,"accept",0]],[[null,"change"]],(function(n,l,e){var t=!0;return"change"===l&&(t=!1!==n.component.onFileSelected(e)&&t),t}),null,null))],(function(n,l){var e=n(l,3,0,l.component.draggingOver);n(l,2,0,"drop-zone",e)}),(function(n,l){var e=l.component;n(l,4,0,e.text),n(l,5,0,t["\u0275inlineInterpolate"](1,"",e.id,"")),n(l,6,0,e.linkText),n(l,7,0,t["\u0275inlineInterpolate"](1,"",e.id,""),e.fileRestriction)}))}},vUL0:function(n,l,e){"use strict";e.d(l,"a",(function(){return t}));var t=function(){return function(){}}()},wCrf:function(n,l,e){"use strict";e.d(l,"a",(function(){return t}));var t=function(){return function(){}}()}}]);