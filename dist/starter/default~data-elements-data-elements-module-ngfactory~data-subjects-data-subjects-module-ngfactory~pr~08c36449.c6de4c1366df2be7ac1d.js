(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"7bb4":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var l=n("mrSG"),o=n("gIcY"),i=n("fTqk"),s=n("K9Ia"),a=(n("rJvx"),n("buEW"),n("Gi3i")),r=n("HcYG"),u=(n("WZKe"),n("9tKR")),c=n("XvOt"),d=function(){function e(e,t,n,l,i,a,r,u){this.activeModal=e,this.formBuilder=t,this.router=n,this.toastService=l,this.translateService=i,this.processingPurposeCategoriesService=a,this.processingPurposesService=r,this.highRiskService=u,this.preSelectedFactors=[],this.mode="creating",this.version=0,this.name=new o.g("",{validators:[o.v.required,o.v.maxLength(255)]}),this.category=new o.g("",o.v.required),this.factors=new o.g("",o.v.required),this.categories=[],this.categoryOptionList=[],this.highRiskFactorCategories=[],this.$scrollListChange=new s.a,this.loadingList=!1,this.loadingHighRiskFactorCategories=!1,this.totalCategoriesInList=0,this.currentEndIndex=0,this.redirectModalOnSubmit=!1,this.customProcessingPurposeForm=this.formBuilder.group({ppName:this.name,ppCategory:this.category,ppInvolves:this.factors})}return e.prototype.ngOnInit=function(){this.name.setValue(this.preSelectedName),this.category.setValue(this.preSelectedCategory),this.factors.setValue(this.capitalizeNameOfList(this.preSelectedFactors)),this.retrieveProcessingPurposesCategories(),this.retrieveHighRiskFactorCategories(),this._getSearchedCategoriesSubscription$=this.$scrollListChange.pipe(Object(a.a)(500)).subscribe((function(){}))},e.prototype.dismissModal=function(){this.activeModal.dismiss("Cross click")},e.prototype.retrieveProcessingPurposesCategories=function(){var e=this;this._retrieveProcessingPurposesCategoriesSubscription$&&this._retrieveProcessingPurposesCategoriesSubscription$.unsubscribe(),this.loadingList=!0,this._retrieveProcessingPurposesCategoriesSubscription$=this.processingPurposeCategoriesService.getAllProcessingPurposesCategories().subscribe((function(t){e.updateOptionsListWithResponse(t),e.loadingList=!1}),(function(t){var n="There was error retrieving processing purposes categories";console.log(n,t),e.loadingList=!1,e.toastService.error(n)}))},e.prototype.retrieveHighRiskFactorCategories=function(){var e=this;this._retrieveHighRiskFactorCategoriesSubscription$&&this._retrieveHighRiskFactorCategoriesSubscription$.unsubscribe(),this.loadingHighRiskFactorCategories=!0,this._retrieveHighRiskFactorCategoriesSubscription$=this.highRiskService.getAllHighRiskFactorCategories().subscribe((function(t){e.highRiskFactorCategories=[{id:"00000000-0000-0000-0000-000000000000",name:"None are applicable",answer:null,version:0}].concat(t),e.loadingHighRiskFactorCategories=!1,e.highRiskFactorCategories=e.capitalizeNameOfList(e.highRiskFactorCategories)}),(function(t){var n="There was error retrieving high risk factor categories";console.log(n,t),e.loadingHighRiskFactorCategories=!1,e.toastService.error(n)}))},e.prototype.onSubmit=function(){var e=this,t=this.customProcessingPurposeForm,n=[{key:"@@processingPurpose",value:t.value.ppName},{key:"@@category",value:t.value.ppCategory.category}],l=t.value.ppInvolves.map((function(e){return e.id})),o=_.includes(l,"00000000-0000-0000-0000-000000000000");"creating"===this.mode&&(this._createCustomProcessingPurposeSubscription$=this.processingPurposesService.createCustomProcessingPurpose({category:t.value.ppCategory.category,highRiskFactorCategoryIds:o?[]:l,processingPurpose:t.value.ppName}).subscribe((function(t){e.closeModal(),e.showLocaleToastMessage("CREATED",u.b.Success,n)}),(function(t){var l="",o=!1;409===t.status?l="ERROR_EXISTING_NAME":(l="ERROR_CREATE",o=!0),e.showLocaleToastMessage(l,u.b.Error,n,o?t:null)}))),"updating"===this.mode&&(this._updateCustomProcessingPurposeSubscription$=this.processingPurposesService.updateCustomProcessingPurposeById(this.ppIdToUpdate,{id:this.ppIdToUpdate,category:t.value.ppCategory.category,highRiskFactorCategoryIds:o?[]:l,processingPurpose:t.value.ppName,version:this.version}).subscribe((function(t){e.closeModal(),e.showLocaleToastMessage("UPDATED",u.b.Success,n)}),(function(t){e.closeModal();var l="",o=!1;409===t.status?l="ERROR_EXISTING_NAME":(l="ERROR_UPDATE",o=!0),e.showLocaleToastMessage(l,u.b.Error,n,o?t:null)})))},e.prototype.closeModal=function(){this.activeModal.close(),this.redirectModalOnSubmit&&this.router.navigate(["../"])},e.prototype.requestForInfiniteList=function(e){this.currentEndIndex=e.endIndex,this.$scrollListChange.next()},e.prototype.updateOptionsListWithResponse=function(e){this.categories=e,e.length&&(this.totalCategoriesInList+=e.length),this.categoryOptionList=this.categoryOptionList.concat(e),this.categoryOptionList=_.uniqBy(this.categoryOptionList,"id"),this.categoryOptionList.map((function(e){return e.label=Object(r.e)(e.category),e}))},e.prototype.capitalizeNameOfList=function(e){return void 0===e&&(e=[]),e.map((function(e){return e.name=e.name.replace(/^\w/,(function(e){return e.toUpperCase()})),e}))},e.prototype.ngOnDestroy=function(){},e.prototype.showLocaleToastMessage=function(e,t,n,l){var o=this;this.translateService.get("SETTINGS.PROCESSING_PURPOSES.TOAST_MESSAGES.ITEM."+e).subscribe((function(e){var i=n?c.a.updateTemplateString(e,n):e;t===u.b.Success&&o.toastService.success(i),t===u.b.Error&&(l&&console.error(i,l),o.toastService.error(i)),t===u.b.Info&&o.toastService.info(i),t===u.b.Warning&&o.toastService.warn(i)}))},Object(l.b)([Object(i.a)(["_getSearchedCategoriesSubscription$","_retrieveHighRiskFactorCategoriesSubscription$","_retrieveProcessingPurposesCategoriesSubscription$","_createCustomProcessingPurposeSubscription$","_updateCustomProcessingPurposeSubscription$"])],e)}()},EsEP:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var l=n("mrSG"),o=n("gIcY"),i=(n("NyAY"),n("K9Ia")),s=n("Gi3i"),a=n("fTqk"),r=function(){function e(e,t,n,l){this.activeModal=e,this.formBuilder=t,this.dataElementService=n,this.toastService=l,this.name=new o.g("",o.v.required),this.level=new o.g("",o.v.required),this.category=new o.g("",o.v.required),this.levelList=[],this.categories=[],this.categoryOptionList=[],this.dataClassificationLevels=["Public: Any data that have been expressly made public through reporting, disclosures required by law or regulation, or as expressly authorized by the individual or organization to whom those data relate.","Confidential: Personal Information that is protected by privacy and data protection laws and for which the loss, misuse or unauthorized access, disclosure, alteration or destruction is likely to result in a low to medium risk for the individuals to whom those data relate and to the organizations that process those data.","Sensitive: Personal Information that either is subject to additional protection or obligations under certain privacy and data protection laws or for which the loss, misuse or unauthorized access, disclosure, alteration or destruction is likely to result in a high risk for the individuals to whom those data relate and to the organizations that process those data.","Special Categories: Data categories that are specifically recognized under Article 9 and Recital 51 of the EU General Data Protection Regulation as potentially creating significant risks for the fundamental rights and freedoms of individuals."],this.$scrollListChange=new i.a,this.endOfListReached=!1,this.currentPage=0,this.loadingList=!1,this.totalCategoriesInList=0,this.categoryBuffer=33,this.lastEndIndex=0,this.currentEndIndex=0,this.redirectModalOnSubmit=!1,this.customElementForm=this.formBuilder.group({name:this.name,level:this.level,category:this.category})}return e.prototype.ngOnInit=function(){var e=this;this.category.setValue(this.preSelectedCategory),this.level.setValue(this.preSelectedType),this.name.setValue(this.preSelectedName),this.retrieveCategories(),this.dataElementService.getAllClassificationLevel().subscribe((function(t){var n=e.dataClassificationLevels.map((function(e){return e.substring(0,e.indexOf(":"))}));n.push("User Determined"),e.levelList=t.dataElementTypes.sort((function(e,t){return n.indexOf(e)>n.indexOf(t)?1:-1}))})),this._getSearchedCategoriesSubscription$=this.$scrollListChange.pipe(Object(s.a)(500)).subscribe((function(){var t=e.currentEndIndex&&e.currentEndIndex>=e.totalCategoriesInList-e.categoryBuffer&&e.currentEndIndex>=e.lastEndIndex;e.lastEndIndex=e.currentEndIndex,e.categories.length<20&&(e.endOfListReached=!0),!t||e.loadingList||e.endOfListReached||(e.currentPage++,e.retrieveCategories())}))},e.prototype.ngOnDestroy=function(){},e.prototype.closeModal=function(){this.activeModal.dismiss("Cross click")},e.prototype.onSubmit=function(){var e=this;this._customDataElementRequest$&&this._customDataElementRequest$.unsubscribe();var t=this.dataElementService.mapToCustomDataElement(this.customElementForm.value,"Adding"===this.mode?null:this.id),n="Adding"===this.mode?this.dataElementService.createCustomDataElement(t):this.dataElementService.updateCustomDataElement(t);this._customDataElementRequest$=n.subscribe((function(t){e.activeModal.close(t)}),(function(t){e.toastService.error(t.error&&t.error.message?t.error.message:"A data element with this name already exists."),e.activeModal.dismiss("")}))},e.prototype.requestForInfiniteList=function(e){this.currentEndIndex=e.endIndex,this.$scrollListChange.next()},e.prototype.updateOptionsListWithResponse=function(e){this.categories=e,e.length&&(this.totalCategoriesInList+=e.length),this.categoryOptionList=this.categoryOptionList.concat(e),this.categoryOptionList=_.uniqBy(this.categoryOptionList,"id")},e.prototype.retrieveCategories=function(){var e=this;this._retrieveCategoriesSubscription$&&this._retrieveCategoriesSubscription$.unsubscribe(),this.loadingList=!0,this._retrieveCategoriesSubscription$=this.dataElementService.getAllCategories(this.currentPage,!0).subscribe((function(t){e.updateOptionsListWithResponse(t),e.loadingList=!1}),(function(t){console.log("There was error retrieving page "+e.currentPage+" of data element categories"),e.loadingList=!1}))},e.prototype.onLevelTouched=function(){this.level.updateValueAndValidity(),this.level.markAsTouched()},Object(l.b)([Object(a.a)(["_getSearchedCategoriesSubscription$","_retrieveCategoriesSubscription$","_customDataElementRequest$"])],e)}()},I9Yp:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var l=function(){return function(){}}()},QI47:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var l=n("mrSG"),o=n("gIcY"),i=n("9tKR"),s=n("XvOt"),a=(n("+27A"),n("/TZf"),n("buEW"),n("fTqk")),r=n("HcYG"),u=function(){return(u=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},c=function(){function e(e,t,n,l,i,s,a,r){this.activeModal=e,this.dataElementCategoriesService=t,this.dataSubjectCategoriesService=n,this.processingPurposeCategoriesService=l,this.formBuilder=i,this.router=s,this.toastService=a,this.translateService=r,this.category=new o.g("",o.v.required),this.customCategoryForm=this.formBuilder.group({category:this.category})}return Object.defineProperty(e.prototype,"categoryInfo",{set:function(e){this._categoryInfo=e,this.category.patchValue(e.category)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.modalType=this.getModalType(this.dataType)},e.prototype.getModalType=function(e){return"PP"===e?"Processing Purpose":"DS"===e?"Data Subject":"DE"===e?"Data Element":(console.error("Unsupported data type"),"")},e.prototype.dismissModal=function(){this.activeModal.dismiss("Cross click")},e.prototype.addNewCategory=function(){"PP"===this.dataType?this.addNewCategoryPP():"DE"===this.dataType?this.addNewCategoryDE():"DS"===this.dataType?this.addNewCategoryDS():console.error("Unsupported data type")},e.prototype.addNewCategoryPP=function(){var e=this;this._addCategory$=this.processingPurposeCategoriesService.addProcessingPurposeCategory(this.category.value).subscribe((function(t){e.closeModal(t),e.showLocaleToastMessage("CREATED",i.b.Success,e.category.value)}),(function(t){e.closeModal(t);var n="",l=!1;409===t.status?n="ERROR_EXISTING_NAME":(n="ERROR_CREATE",l=!0),e.showLocaleToastMessage(n,i.b.Error,e.category.value,l?t:null)}))},e.prototype.addNewCategoryDE=function(){var e=this;this._addCategory$=this.dataElementCategoriesService.addDataElementCategory(this.category.value).subscribe((function(t){e.closeModal(t),e.showLocaleToastMessage("CREATED",i.b.Success,e.category.value)}),(function(t){e.closeModal(t);var n="",l=!1;409===t.status?n="ERROR_EXISTING_NAME":(n="ERROR_CREATE",l=!0),e.showLocaleToastMessage(n,i.b.Error,e.category.value,l?t:null)}))},e.prototype.addNewCategoryDS=function(){var e=this;this._addCategory$=this.dataSubjectCategoriesService.addDataSubjectCategory(this.category.value).subscribe((function(t){e.closeModal(t),e.showLocaleToastMessage("CREATED",i.b.Success,e.category.value)}),(function(t){e.closeModal(t);var n="",l=!1;409===t.status?n="ERROR_EXISTING_NAME":(n="ERROR_CREATE",l=!0),e.showLocaleToastMessage(n,i.b.Error,e.category.value,l?t:null)}))},e.prototype.editCategory=function(){"PP"===this.dataType?this.editCategoryPP():"DE"===this.dataType?this.editCategoryDE():"DS"===this.dataType?this.editCategoryDS():console.error("Unsupported data type.")},e.prototype.editCategoryPP=function(){var e=this;this._addCategory$=this.processingPurposeCategoriesService.editProcessingPurposeCategoryName(u({},this._categoryInfo,{category:this.category.value})).subscribe((function(t){e.closeModal(t),e.showLocaleToastMessage("RENAMED",i.b.Success,e._categoryInfo.category)}),(function(t){e.closeModal(t);var n="",l=!1;409===t.status?n="ERROR_EXISTING_NAME":(n="ERROR_UPDATE",l=!0),e.showLocaleToastMessage(n,i.b.Error,e.category.value,l?t:null)}))},e.prototype.editCategoryDE=function(){var e=this;this._addCategory$=this.dataElementCategoriesService.editDataElementCategoryName(u({},this._categoryInfo,{category:this.category.value})).subscribe((function(t){e.closeModal(t),e.showLocaleToastMessage("RENAMED",i.b.Success,e._categoryInfo.category)}),(function(t){e.closeModal(t);var n="",l=!1;409===t.status?n="ERROR_EXISTING_NAME":(n="ERROR_UPDATE",l=!0),e.showLocaleToastMessage(n,i.b.Error,e.category.value,l?t:null)}))},e.prototype.editCategoryDS=function(){var e=this;this._addCategory$=this.dataSubjectCategoriesService.editDataSubjectCategoryName(u({},this._categoryInfo,{category:this.category.value})).subscribe((function(t){e.closeModal(t),e.showLocaleToastMessage("RENAMED",i.b.Success,e._categoryInfo.category)}),(function(t){e.closeModal(t);var n="",l=!1;409===t.status?n="ERROR_EXISTING_NAME":(n="ERROR_UPDATE",l=!0),e.showLocaleToastMessage(n,i.b.Error,e.category.value,l?t:null)}))},e.prototype.onSubmit=function(){Object(r.d)(this._categoryInfo)?this.editCategory():this.addNewCategory()},e.prototype.closeModal=function(e){this.activeModal.close(e),this.redirectModalOnSubmit&&this.router.navigate(["../"])},e.prototype.showLocaleToastMessage=function(e,t,n,l){var o=this,a=[{key:"@@category",value:n}],r="";switch(this.dataType){case"PP":r="PROCESSING_PURPOSES";break;case"DS":r="DATA_SUBJECTS";break;case"DE":r="DATA_ELEMENTS"}this.translateService.get("SETTINGS."+r+".TOAST_MESSAGES.CATEGORY."+e).subscribe((function(e){var n=a?s.a.updateTemplateString(e,a):e;t===i.b.Success&&o.toastService.success(n),t===i.b.Error&&(l&&console.error(n,l),o.toastService.error(n)),t===i.b.Info&&o.toastService.info(n),t===i.b.Warning&&o.toastService.warn(n)}))},e.prototype.ngOnDestroy=function(){},Object(l.b)([Object(a.a)(["_addCategory$"])],e)}()},UU2u:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var l=function(){return function(){}}()},W8tB:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var l=n("mrSG"),o=n("gIcY"),i=n("9tKR"),s=n("XvOt"),a=(n("+27A"),n("L5Vd"),n("K9Ia")),r=n("fTqk"),u=n("HcYG"),c=n("Gi3i"),d=function(){function e(e,t,n,l,i,s,r){this.activeModal=e,this.formBuilder=t,this.router=n,this.toastService=l,this.translateService=i,this.dataSubjectCategoriesService=s,this.dataSubjectsService=r,this.preSelectedHighRisk=!1,this.mode="creating",this.version=0,this.name=new o.g("",{validators:[o.v.required,o.v.maxLength(255)]}),this.category=new o.g("",o.v.required),this.highRisk=new o.g("",o.v.required),this.categories=[],this.categoryOptionList=[],this.$scrollListChange=new a.a,this.loadingList=!1,this.totalCategoriesInList=0,this.currentEndIndex=0,this.redirectModalOnSubmit=!1,this.customDataSubjectForm=this.formBuilder.group({dsName:this.name,dsCategory:this.category,dsHighRisk:this.highRisk})}return e.prototype.ngOnInit=function(){this.name.setValue(this.preSelectedName),this.category.setValue(this.preSelectedCategory),this.highRisk.setValue(this.preSelectedHighRisk.toString()),this.retrieveDataSubjectsCategories(),this._getSearchedCategoriesSubscription$=this.$scrollListChange.pipe(Object(c.a)(500)).subscribe((function(){}))},e.prototype.dismissModal=function(){this.activeModal.dismiss("Cross click")},e.prototype.retrieveDataSubjectsCategories=function(){var e=this;this._retrieveDataSubjectsCategoriesSubscription$&&this._retrieveDataSubjectsCategoriesSubscription$.unsubscribe(),this.loadingList=!0,this._retrieveDataSubjectsCategoriesSubscription$=this.dataSubjectCategoriesService.getAllDataSubjectsCategories().subscribe((function(t){e.updateOptionsListWithResponse(t),e.loadingList=!1}),(function(t){var n="There was error retrieving data subjects categories";console.error(n,t),e.loadingList=!1,e.toastService.error(n)}))},e.prototype.onSubmit=function(){var e=this,t=this.customDataSubjectForm,n=[{key:"@@dataSubject",value:t.value.dsName},{key:"@@category",value:t.value.dsCategory.category}];"creating"===this.mode&&(this._createCustomDataSubjectSubscription$=this.dataSubjectsService.createCustomDataSubject({categoryId:t.value.dsCategory.categoryId,dataSubject:t.value.dsName,highRisk:"true"===t.value.dsHighRisk}).subscribe((function(t){e.closeModal(),e.showLocaleToastMessage("CREATED",i.b.Success,n)}),(function(t){e.closeModal();var l="",o=!1;409===t.status?l="ERROR_EXISTING_NAME":(l="ERROR_CREATE",o=!0),e.showLocaleToastMessage(l,i.b.Error,n,o?t:null)}))),"updating"===this.mode&&(this._updateCustomDataSubjectSubscription$=this.dataSubjectsService.updateCustomDataSubjectById(this.dsIdToUpdate,{id:this.dsIdToUpdate,categoryId:t.value.dsCategory.categoryId,dataSubject:t.value.dsName,highRisk:"true"===t.value.dsHighRisk,version:this.version}).subscribe((function(t){e.closeModal(),e.showLocaleToastMessage("UPDATED",i.b.Success,n)}),(function(t){e.closeModal();var l="",o=!1;409===t.status?l="ERROR_EXISTING_NAME":(l="ERROR_UPDATE",o=!0),e.showLocaleToastMessage(l,i.b.Error,n,o?t:null)})))},e.prototype.closeModal=function(){this.activeModal.close(),this.redirectModalOnSubmit&&this.router.navigate(["../"])},e.prototype.requestForInfiniteList=function(e){this.currentEndIndex=e.endIndex,this.$scrollListChange.next()},e.prototype.updateOptionsListWithResponse=function(e){this.categories=e,e.length&&(this.totalCategoriesInList+=e.length),this.categoryOptionList=this.categoryOptionList.concat(e),this.categoryOptionList=_.uniqBy(this.categoryOptionList,"id"),this.categoryOptionList.map((function(e){return e.label=Object(u.e)(e.category),e}))},e.prototype.showLocaleToastMessage=function(e,t,n,l){var o=this;this.translateService.get("SETTINGS.DATA_SUBJECTS.TOAST_MESSAGES.ITEM."+e).subscribe((function(e){var a=n?s.a.updateTemplateString(e,n):e;t===i.b.Success&&o.toastService.success(a),t===i.b.Error&&(l&&console.error(a,l),o.toastService.error(a)),t===i.b.Info&&o.toastService.info(a),t===i.b.Warning&&o.toastService.warn(a)}))},e.prototype.ngOnDestroy=function(){},Object(l.b)([Object(r.a)(["_getSearchedCategoriesSubscription$","_retrieveDataSubjectsCategoriesSubscription$","_createCustomDataSubjectSubscription$","_updateCustomDataSubjectSubscription$"])],e)}()},Z08m:function(e,t,n){"use strict";var l=n("CcnG"),o=n("gIcY"),i=n("Ip0R"),s=n("tr7A"),a=n("1ut8"),r=n("QI47"),u=n("/TZf"),c=n("+27A"),d=n("buEW"),g=n("ZYCi"),h=n("A7o+");n.d(t,"a",(function(){return y}));var p=l["\u0275crt"]({encapsulation:2,styles:[[".card{box-shadow:0 1px 4px 0 rgba(0,0,0,.15)}.card .card-header{font-size:.875rem}button,input,textarea{outline:0!important;box-shadow:none!important}strong{font-weight:500}input::-ms-clear{display:none;width:0;height:0}input::-ms-reveal{display:none;width:0;height:0}input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none}.ta-modal-custom-category .modal-dialog{max-width:693px!important;max-height:287px!important;margin-top:102px}.ta-modal-custom-category .modal-dialog .modal-content{background-color:#fff}.ta-modal-custom-category .modal-dialog .modal-content #modal-cancel,.ta-modal-custom-category .modal-dialog .modal-content #modal-submit{width:94px}"]],data:{}});function v(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" This field is required. "]))],null,null)}function m(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"h4",[["class","modal-title"],["data-cy","modal-title"]],null,null,null,null,null)),(e()(),l["\u0275ted"](2,null,[" Custom "," Category "])),(e()(),l["\u0275eld"](3,0,null,null,1,"button",[["aria-label","Close"],["class","close"],["data-cy","modal-close"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.dismissModal()&&l),l}),null,null)),(e()(),l["\u0275eld"](4,0,null,null,0,"i",[["class","ta ta-close"]],null,null,null,null,null)),(e()(),l["\u0275eld"](5,0,null,null,24,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var o=!0,i=e.component;return"submit"===t&&(o=!1!==l["\u0275nov"](e,7).onSubmit(n)&&o),"reset"===t&&(o=!1!==l["\u0275nov"](e,7).onReset()&&o),"ngSubmit"===t&&(o=!1!==i.onSubmit()&&o),o}),null,null)),l["\u0275did"](6,16384,null,0,o.x,[],null,null),l["\u0275did"](7,540672,null,0,o.k,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),l["\u0275prd"](2048,null,o.b,null,[o.k]),l["\u0275did"](9,16384,null,0,o.r,[[4,o.b]],null,null),(e()(),l["\u0275eld"](10,0,null,null,12,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),l["\u0275eld"](11,0,null,null,11,"div",[["class","col-sm-6"]],null,null,null,null,null)),(e()(),l["\u0275eld"](12,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),l["\u0275eld"](13,0,null,null,1,"label",[["for","category"]],null,null,null,null,null)),(e()(),l["\u0275ted"](14,null,[""," Category*"])),(e()(),l["\u0275eld"](15,0,null,null,5,"input",[["class","form-control"],["data-cy","category"],["formControlName","category"],["id","category"],["name","category"],["placeholder","Enter Custom Category Name"],["taAutoFocus",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var o=!0;return"input"===t&&(o=!1!==l["\u0275nov"](e,16)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==l["\u0275nov"](e,16).onTouched()&&o),"compositionstart"===t&&(o=!1!==l["\u0275nov"](e,16)._compositionStart()&&o),"compositionend"===t&&(o=!1!==l["\u0275nov"](e,16)._compositionEnd(n.target.value)&&o),o}),null,null)),l["\u0275did"](16,16384,null,0,o.c,[l.Renderer2,l.ElementRef,[2,o.a]],null,null),l["\u0275prd"](1024,null,o.o,(function(e){return[e]}),[o.c]),l["\u0275did"](18,671744,null,0,o.i,[[3,o.b],[8,null],[8,null],[6,o.o],[2,o.z]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,o.p,null,[o.i]),l["\u0275did"](20,16384,null,0,o.q,[[4,o.p]],null,null),(e()(),l["\u0275and"](16777216,null,null,1,null,v)),l["\u0275did"](22,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](23,0,null,null,6,"div",[["class","modal-footer justify-content-between"]],null,null,null,null,null)),(e()(),l["\u0275eld"](24,0,null,null,2,"button",[["data-cy","modal-cancel"],["data-dismiss","modal"],["taButton",""],["taType","secondary"],["type","button"]],[[8,"className",0]],[[null,"click"],[null,"focus"],[null,"mouseleave"]],(function(e,t,n){var o=!0,i=e.component;return"focus"===t&&(o=!1!==l["\u0275nov"](e,25).onMouseEnter()&&o),"mouseleave"===t&&(o=!1!==l["\u0275nov"](e,25).onMouseLeave()&&o),"click"===t&&(o=!1!==i.activeModal.dismiss("Cancel")&&o),o}),s.U,s.k)),l["\u0275did"](25,573440,null,0,a.Eb,[l.ElementRef],{taType:[0,"taType"]},null),(e()(),l["\u0275ted"](-1,0,[" Cancel "])),(e()(),l["\u0275eld"](27,0,null,null,2,"button",[["data-cy","modal-submit"],["taButton",""],["taType","primary"]],[[8,"disabled",0],[8,"className",0]],[[null,"focus"],[null,"mouseleave"]],(function(e,t,n){var o=!0;return"focus"===t&&(o=!1!==l["\u0275nov"](e,28).onMouseEnter()&&o),"mouseleave"===t&&(o=!1!==l["\u0275nov"](e,28).onMouseLeave()&&o),o}),s.U,s.k)),l["\u0275did"](28,573440,null,0,a.Eb,[l.ElementRef],{taType:[0,"taType"]},null),(e()(),l["\u0275ted"](-1,0,[" Save "]))],(function(e,t){var n=t.component;e(t,7,0,n.customCategoryForm),e(t,18,0,"category"),e(t,22,0,(null==n.category.errors?null:n.category.errors.required)&&n.category.touched),e(t,25,0,"secondary"),e(t,28,0,"primary")}),(function(e,t){var n=t.component;e(t,2,0,n.modalType),e(t,5,0,l["\u0275nov"](t,9).ngClassUntouched,l["\u0275nov"](t,9).ngClassTouched,l["\u0275nov"](t,9).ngClassPristine,l["\u0275nov"](t,9).ngClassDirty,l["\u0275nov"](t,9).ngClassValid,l["\u0275nov"](t,9).ngClassInvalid,l["\u0275nov"](t,9).ngClassPending),e(t,14,0,n.modalType),e(t,15,0,l["\u0275nov"](t,20).ngClassUntouched,l["\u0275nov"](t,20).ngClassTouched,l["\u0275nov"](t,20).ngClassPristine,l["\u0275nov"](t,20).ngClassDirty,l["\u0275nov"](t,20).ngClassValid,l["\u0275nov"](t,20).ngClassInvalid,l["\u0275nov"](t,20).ngClassPending),e(t,24,0,l["\u0275nov"](t,25).className),e(t,27,0,!n.category.valid,l["\u0275nov"](t,28).className)}))}function f(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"ta-custom-category-modal",[],null,null,null,m,p)),l["\u0275did"](1,245760,null,0,r.a,[a.e,u.a,c.a,d.a,o.f,g.n,a.Db,h.j],null,null)],(function(e,t){e(t,1,0)}),null)}var y=l["\u0275ccf"]("ta-custom-category-modal",r.a,f,{redirectModalOnSubmit:"redirectModalOnSubmit",dataType:"dataType",categoryInfo:"categoryInfo"},{},[])},rJvx:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var l=n("CcnG"),o=n("t/Na"),i=function(){function e(e){this.httpClient=e}return e.prototype.getAllHighRiskFactorCategories=function(){return this.httpClient.get("api/high-risk-factor-categories")},e.ngInjectableDef=l.defineInjectable({factory:function(){return new e(l.inject(o.c))},token:e,providedIn:"root"}),e}()},ytgP:function(e,t,n){"use strict";var l=n("CcnG"),o=n("gIcY"),i=n("Ip0R"),s=n("Cr54"),a=n("/KSa"),r=n("tr7A"),u=n("1ut8"),c=n("EsEP"),d=n("NyAY");n.d(t,"a",(function(){return C}));var g=l["\u0275crt"]({encapsulation:2,styles:[[".card{box-shadow:0 1px 4px 0 rgba(0,0,0,.15)}.card .card-header{font-size:.875rem}button,input,textarea{outline:0!important;box-shadow:none!important}strong{font-weight:500}input::-ms-clear{display:none;width:0;height:0}input::-ms-reveal{display:none;width:0;height:0}input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none}.ta-modal-custom-element .modal-dialog{max-width:907px!important;margin-top:102px}.ta-modal-custom-element .modal-dialog .modal-content{background-color:#fff}.ta-modal-custom-element .modal-dialog .modal-content #modal-cancel,.ta-modal-custom-element .modal-dialog .modal-content #modal-submit{width:94px}.level-title{font-weight:600}.level-wrapper{width:480px}.form-wrapper{width:326px}"]],data:{}});function h(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" This field is required. "]))],null,null)}function p(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,0,"div",[["class","tooltip-content"]],null,null,null,null,null))],null,null)}function v(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" This field is required. "]))],null,null)}function m(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","text-danger"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" This field is required. "]))],null,null)}function f(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","row mt-3 ml-0 mr-0"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,[" "," "]))],null,(function(e,t){e(t,1,0,t.context.$implicit)}))}function y(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Custom Data Element"])),(e()(),l["\u0275eld"](3,0,null,null,1,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.closeModal()&&l),l}),null,null)),(e()(),l["\u0275eld"](4,0,null,null,0,"i",[["class","ta ta-close"]],null,null,null,null,null)),(e()(),l["\u0275eld"](5,0,null,null,52,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var o=!0,i=e.component;return"submit"===t&&(o=!1!==l["\u0275nov"](e,7).onSubmit(n)&&o),"reset"===t&&(o=!1!==l["\u0275nov"](e,7).onReset()&&o),"ngSubmit"===t&&(o=!1!==i.onSubmit()&&o),o}),null,null)),l["\u0275did"](6,16384,null,0,o.x,[],null,null),l["\u0275did"](7,540672,null,0,o.k,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),l["\u0275prd"](2048,null,o.b,null,[o.k]),l["\u0275did"](9,16384,null,0,o.r,[[4,o.b]],null,null),(e()(),l["\u0275eld"](10,0,null,null,40,"div",[["class","modal-body row ml-0 mr-0"]],null,null,null,null,null)),(e()(),l["\u0275eld"](11,0,null,null,34,"div",[["class","form-group ml-3 form-wrapper"]],null,null,null,null,null)),(e()(),l["\u0275eld"](12,0,null,null,10,"div",[["class","row mt-2 ml-0 mr-0"]],null,null,null,null,null)),(e()(),l["\u0275eld"](13,0,null,null,1,"label",[["for","name"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Data Element Name*"])),(e()(),l["\u0275eld"](15,0,null,null,5,"input",[["class","form-control"],["formControlName","name"],["id","name"],["name","name"],["placeholder","Enter Custom Data Element Name"],["taAutofocus",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var o=!0;return"input"===t&&(o=!1!==l["\u0275nov"](e,16)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==l["\u0275nov"](e,16).onTouched()&&o),"compositionstart"===t&&(o=!1!==l["\u0275nov"](e,16)._compositionStart()&&o),"compositionend"===t&&(o=!1!==l["\u0275nov"](e,16)._compositionEnd(n.target.value)&&o),o}),null,null)),l["\u0275did"](16,16384,null,0,o.c,[l.Renderer2,l.ElementRef,[2,o.a]],null,null),l["\u0275prd"](1024,null,o.o,(function(e){return[e]}),[o.c]),l["\u0275did"](18,671744,null,0,o.i,[[3,o.b],[8,null],[8,null],[6,o.o],[2,o.z]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,o.p,null,[o.i]),l["\u0275did"](20,16384,null,0,o.q,[[4,o.p]],null,null),(e()(),l["\u0275and"](16777216,null,null,1,null,h)),l["\u0275did"](22,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](23,0,null,null,11,"div",[["class","row mt-4 ml-0 mr-0"]],null,null,null,null,null)),(e()(),l["\u0275and"](0,[["levelTipContent",2]],null,0,null,p)),(e()(),l["\u0275eld"](25,0,null,null,1,"label",[["for","level"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Data Classification Level*"])),(e()(),l["\u0275eld"](27,0,null,null,5,"ta-dropdown-field",[["class","w-100"],["formControlName","level"]],[[2,"multiple-value-dropdown",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"dropdownOpenChanged"]],(function(e,t,n){var l=!0;return"dropdownOpenChanged"===t&&(l=!1!==e.component.onLevelTouched()&&l),l}),s.b,s.a)),l["\u0275did"](28,49152,null,0,a.a,[],{options:[0,"options"],selectedOption:[1,"selectedOption"]},{dropdownOpenChanged:"dropdownOpenChanged"}),l["\u0275prd"](1024,null,o.o,(function(e){return[e]}),[a.a]),l["\u0275did"](30,671744,null,0,o.i,[[3,o.b],[8,null],[8,null],[6,o.o],[2,o.z]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,o.p,null,[o.i]),l["\u0275did"](32,16384,null,0,o.q,[[4,o.p]],null,null),(e()(),l["\u0275and"](16777216,null,null,1,null,v)),l["\u0275did"](34,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](35,0,null,null,10,"div",[["class","row mt-4 ml-0 mr-0"]],null,null,null,null,null)),(e()(),l["\u0275eld"](36,0,null,null,1,"label",[["for","level"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Data Element Category*"])),(e()(),l["\u0275eld"](38,0,null,null,5,"ta-dropdown-field",[["class","w-100"],["formControlName","category"],["optionLabel","category"]],[[2,"multiple-value-dropdown",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"infiniteListChanged"]],(function(e,t,n){var l=!0;return"infiniteListChanged"===t&&(l=!1!==e.component.requestForInfiniteList(n)&&l),l}),s.b,s.a)),l["\u0275did"](39,49152,null,0,a.a,[],{optionLabel:[0,"optionLabel"],isSearchable:[1,"isSearchable"],useInfiniteScroll:[2,"useInfiniteScroll"],viewPortHeight:[3,"viewPortHeight"],options:[4,"options"],selectedOption:[5,"selectedOption"]},{infiniteListChanged:"infiniteListChanged"}),l["\u0275prd"](1024,null,o.o,(function(e){return[e]}),[a.a]),l["\u0275did"](41,671744,null,0,o.i,[[3,o.b],[8,null],[8,null],[6,o.o],[2,o.z]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,o.p,null,[o.i]),l["\u0275did"](43,16384,null,0,o.q,[[4,o.p]],null,null),(e()(),l["\u0275and"](16777216,null,null,1,null,m)),l["\u0275did"](45,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](46,0,null,null,4,"div",[["class","mt-2 mb-3 ml-4 level-wrapper"]],null,null,null,null,null)),(e()(),l["\u0275eld"](47,0,null,null,1,"div",[["class","row ml-0 mr-0 level-title"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["Data Classification Levels"])),(e()(),l["\u0275and"](16777216,null,null,1,null,f)),l["\u0275did"](50,278528,null,0,i.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275eld"](51,0,null,null,6,"div",[["class","modal-footer justify-content-between"]],null,null,null,null,null)),(e()(),l["\u0275eld"](52,0,null,null,2,"button",[["data-dismiss","modal"],["id","modal-cancel"],["taButton",""],["taType","secondary"],["type","button"]],[[8,"className",0]],[[null,"click"],[null,"focus"],[null,"mouseleave"]],(function(e,t,n){var o=!0,i=e.component;return"focus"===t&&(o=!1!==l["\u0275nov"](e,53).onMouseEnter()&&o),"mouseleave"===t&&(o=!1!==l["\u0275nov"](e,53).onMouseLeave()&&o),"click"===t&&(o=!1!==i.activeModal.dismiss("Cancel")&&o),o}),r.U,r.k)),l["\u0275did"](53,573440,null,0,u.Eb,[l.ElementRef],{taType:[0,"taType"]},null),(e()(),l["\u0275ted"](-1,0,[" Cancel "])),(e()(),l["\u0275eld"](55,0,null,null,2,"button",[["id","modal-submit"],["taButton",""],["taType","primary"]],[[8,"disabled",0],[8,"className",0]],[[null,"focus"],[null,"mouseleave"]],(function(e,t,n){var o=!0;return"focus"===t&&(o=!1!==l["\u0275nov"](e,56).onMouseEnter()&&o),"mouseleave"===t&&(o=!1!==l["\u0275nov"](e,56).onMouseLeave()&&o),o}),r.U,r.k)),l["\u0275did"](56,573440,null,0,u.Eb,[l.ElementRef],{taType:[0,"taType"]},null),(e()(),l["\u0275ted"](-1,0,[" Save "]))],(function(e,t){var n=t.component;e(t,7,0,n.customElementForm),e(t,18,0,"name"),e(t,22,0,(null==n.name.errors?null:n.name.errors.required)&&n.name.touched),e(t,28,0,n.levelList,n.level.value),e(t,30,0,"level"),e(t,34,0,(null==n.level.errors?null:n.level.errors.required)&&n.level.touched),e(t,39,0,"category",!0,!0,250,n.categoryOptionList,n.category.value),e(t,41,0,"category"),e(t,45,0,(null==n.category.errors?null:n.category.errors.required)&&n.category.touched),e(t,50,0,n.dataClassificationLevels),e(t,53,0,"secondary"),e(t,56,0,"primary")}),(function(e,t){var n=t.component;e(t,5,0,l["\u0275nov"](t,9).ngClassUntouched,l["\u0275nov"](t,9).ngClassTouched,l["\u0275nov"](t,9).ngClassPristine,l["\u0275nov"](t,9).ngClassDirty,l["\u0275nov"](t,9).ngClassValid,l["\u0275nov"](t,9).ngClassInvalid,l["\u0275nov"](t,9).ngClassPending),e(t,15,0,l["\u0275nov"](t,20).ngClassUntouched,l["\u0275nov"](t,20).ngClassTouched,l["\u0275nov"](t,20).ngClassPristine,l["\u0275nov"](t,20).ngClassDirty,l["\u0275nov"](t,20).ngClassValid,l["\u0275nov"](t,20).ngClassInvalid,l["\u0275nov"](t,20).ngClassPending),e(t,27,0,l["\u0275nov"](t,28).isMultiple,l["\u0275nov"](t,32).ngClassUntouched,l["\u0275nov"](t,32).ngClassTouched,l["\u0275nov"](t,32).ngClassPristine,l["\u0275nov"](t,32).ngClassDirty,l["\u0275nov"](t,32).ngClassValid,l["\u0275nov"](t,32).ngClassInvalid,l["\u0275nov"](t,32).ngClassPending),e(t,38,0,l["\u0275nov"](t,39).isMultiple,l["\u0275nov"](t,43).ngClassUntouched,l["\u0275nov"](t,43).ngClassTouched,l["\u0275nov"](t,43).ngClassPristine,l["\u0275nov"](t,43).ngClassDirty,l["\u0275nov"](t,43).ngClassValid,l["\u0275nov"](t,43).ngClassInvalid,l["\u0275nov"](t,43).ngClassPending),e(t,52,0,l["\u0275nov"](t,53).className),e(t,55,0,!n.customElementForm.valid,l["\u0275nov"](t,56).className)}))}function b(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"ta-custom-data-element-modal",[],null,null,null,y,g)),l["\u0275did"](1,245760,null,0,c.a,[u.e,o.f,d.a,u.Db],null,null)],(function(e,t){e(t,1,0)}),null)}var C=l["\u0275ccf"]("ta-custom-data-element-modal",c.a,b,{redirectModalOnSubmit:"redirectModalOnSubmit",preSelectedName:"preSelectedName",preSelectedType:"preSelectedType",preSelectedCategory:"preSelectedCategory",mode:"mode",id:"id"},{},[])}}]);